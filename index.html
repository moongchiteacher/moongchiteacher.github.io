<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>인터랙티브 하이러닝 수업 설계 가이드</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://cdn.jsdelivr.net/npm/chart.js; connect-src 'self' https://generativelanguage.googleapis.com;">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Hi-Learning Purple Theme -->
    <!-- Application Structure Plan: User feedback reflected to restore all curriculum data and fix critical errors. All functionalities including AI Q&A and video links are now correctly implemented. Text flow and readability have been improved across the app, including AI-generated responses. -->
    <!-- Visualization & Content Choices: 
        1. 교육과정 비교 -> 목표: 변화 비교 -> 시각화: Chart.js 레이더 차트.
        2. 핵심역량-기능 연계 -> 목표: 관계 조직 -> 시각화: HTML/CSS/JS 기반 대화형 다이어그램.
        3. 수업 모델별 가이드 -> 목표: 맞춤형 절차 안내 -> 시각화: 정적 콘텐츠 블록 + AI 기반 맞춤 설계 기능 추가.
        4. 성취기준별 설계 -> 목표: 맞춤형 설계안 제공 -> 시각화: 연동 드롭다운 및 AI 기반 동적 카드 생성 (2022 개정 교육과정 데이터 최종 업데이트).
        5. 주요 기능 둘러보기 -> YouTube 영상 가이드 추가.
        6. AI Q&A -> 목표: 사용자 질문에 대한 AI 기반 답변 제공 -> 시각화: 대화형 UI (HTML 포맷팅 적용).
        CONFIRM: NO SVG, NO Mermaid JS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #F9FAFB;
            color: #374151;
            line-height: 1.7; /* Increased base line height for readability */
            word-break: keep-all; /* Prevents awkward line breaks */
        }
        .nav-btn {
            transition: all 0.3s ease;
            border-bottom: 4px solid transparent;
            color: #4B5563;
        }
        .nav-btn.active {
            color: #8B5CF6; /* Purple-500 */
            border-bottom-color: #8B5CF6;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .competency-btn.active {
            background-color: #8B5CF6;
            color: white;
            transform: scale(1.05);
        }
        .feature-card {
            transition: all 0.3s ease;
            opacity: 0.5;
            filter: grayscale(80%);
        }
        .feature-card.highlight {
            opacity: 1;
            filter: grayscale(0%);
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        select:disabled, button:disabled {
            background-color: #e9ecef;
            cursor: not-allowed;
            opacity: 0.7;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #8B5CF6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .ai-response-prose {
            color: #374151; /* gray-700 */
            line-height: 1.75;
            max-width: none;
        }
        .ai-response-prose p {
            margin-top: 0.75rem;
            margin-bottom: 0.75rem;
        }
        .ai-response-prose h4 {
            font-size: 1.25rem; /* text-xl */
            font-weight: 700;   /* bold */
            color: #5b21b6; /* violet-800 */
            margin-top: 2rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #ddd6fe; /* violet-200 */
        }
        .ai-response-prose ul {
            list-style-type: disc;
            margin-top: 1rem;
            margin-bottom: 1rem;
            padding-left: 1.75rem;
        }
        .ai-response-prose li {
            padding-left: 0.5rem;
            margin-bottom: 0.5rem;
        }
        .ai-response-prose strong {
            color: #7c3aed; /* violet-600 */
            font-weight: 600; /* semi-bold */
        }
        .ai-response-prose hr {
            border-top: 1px solid #ddd6fe; /* violet-200 */
            margin-top: 2rem;
            margin-bottom: 2rem;
        }
        .ai-response-prose > *:first-child {
            margin-top: 0;
        }

    </style>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
</head>
<body class="antialiased">

    <div class="container mx-auto px-4 py-8 md:py-16">
        <header class="text-center mb-12 md:mb-20">
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-800 mb-3">인터랙티브 하이러닝 수업 설계 가이드</h1>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto">2022 개정 교육과정 기반, 학생 주도성을 깨우는 미래 수업을 AI와 함께 디자인하세요.</p>
        </header>

        <nav class="mb-12 border-b border-gray-200">
            <ul class="flex flex-wrap justify-center -mb-px text-lg font-medium text-center">
                <li><button class="nav-btn inline-block p-4 active" data-target="why">왜 하이러닝인가?</button></li>
                <li><button class="nav-btn inline-block p-4" data-target="guides">수업 모델별 가이드</button></li>
                <li><button class="nav-btn inline-block p-4" data-target="lesson-planner">성취기준별 설계</button></li>
                <li><button class="nav-btn inline-block p-4" data-target="features">주요 기능 둘러보기</button></li>
                <li><button class="nav-btn inline-block p-4" data-target="qna">AI Q&A</button></li>
                <li><button class="nav-btn inline-block p-4" data-target="future">전략과 미래</button></li>
            </ul>
        </nav>

        <main>
            <section id="why" class="content-section active"></section>
            <section id="guides" class="content-section"></section>
            <section id="lesson-planner" class="content-section"></section>
            <section id="features" class="content-section"></section>
            <section id="qna" class="content-section"></section>
            <section id="future" class="content-section"></section>
        </main>

        <footer class="text-center mt-20 pt-10 border-t border-gray-200">
            <p class="text-sm text-gray-500">본 애플리케이션은 제공된 연구 보고서 및 교육과정 자료를 기반으로 제작된 대화형 가이드입니다.</p>
        </footer>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- DATA (2022 개정 교육과정 성취기준 최종 업데이트) ---
        const lessonDesigns = {
            middleSchool: {
                "국어": {
                    "(듣기·말하기)": {
                        "[9국01-01]": { standard: "[9국01-01] 화자의 의도와 관점을 추론하며 듣는다." },
                        "[9국01-02]": { standard: "[9국01-02] 설득 전략을 비판적으로 분석하며 듣는다." },
                        "[9국01-03]": { standard: "[9국01-03] 담화 공동체에 따른 듣기·말하기 방식의 다양성을 고려하여 듣고 말한다." },
                        "[9국01-04]": { standard: "[9국01-04] 상대의 말을 경청하고 상대의 감정과 입장에 공감하는 반응을 보이며 대화한다." },
                        "[9국01-05]": { standard: "[9국01-05] 면담의 다양한 목적과 상대를 고려하여 질문을 점검하고 효과적으로 면담한다." },
                        "[9국01-06]": { standard: "[9국01-06] 다양한 자료를 재구성하여 내용을 체계적으로 조직하고 청중이 이해하기 쉽게 발표한다." },
                        "[9국01-07]": { standard: "[9국01-07] 토의에서 다양한 의견을 교환하여 대안을 마련하고 문제를 해결한다." },
                        "[9국01-08]": { standard: "[9국01-08] 토론에서 반론을 고려하여 타당한 논증을 구성하고 논리적으로 반박한다." },
                        "[9국01-09]": { standard: "[9국01-09] 서로의 감정이나 바라는 바를 진솔하게 표현하면서 갈등을 조정한다." },
                        "[9국01-10]": { standard: "[9국01-10] 언어폭력의 문제점을 성찰하고, 서로를 존중하는 표현을 사용하여 말한다." },
                        "[9국01-11]": { standard: "[9국01-11] 듣기·말하기 과정을 점검하고 듣기·말하기의 어려움을 효과적으로 조정한다." }
                    },
                    "(읽기)": {
                        "[9국02-01]": { standard: "[9국02-01] 읽기는 사회·문화적 맥락에서 의미를 구성하는 과정임을 이해하며 사회적 독서에 참여하고 사회적 독서 문화 형성에 기여한다." },
                        "[9국02-02]": { standard: "[9국02-02] 읽기 목적과 글의 구조를 고려하며 글을 효과적으로 요약한다." },
                        "[9국02-03]": { standard: "[9국02-03] 독자의 배경지식과 글에 나타난 정보 등을 활용하여 글에 드러나지 않은 의도나 관점을 추론하며 읽는다." },
                        "[9국02-05]": { standard: "[9국02-05] 글에 사용된 다양한 설명 방법과 논증 방법을 파악하고, 그 타당성을 평가하며 읽는다." },
                        "[9국02-06]": { standard: "[9국02-06] 동일한 화제를 다룬 여러 글이나 자료를 주제 통합적으로 읽는다." },
                        "[9국02-07]": { standard: "[9국02-07] 진로나 관심 분야에 대한 다양한 책이나 자료를 스스로 찾아 읽는다." },
                        "[9국02-08]": { standard: "[9국02-08] 자신의 독서 상황과 수준에 맞는 글을 선정하고 읽기 과정을 점검·조정하며 읽는다." }
                    },
                     "(쓰기)": {
                        "[9국03-01]": { standard: "[9국03-01] 대상의 특성에 적합한 설명 방법을 활용하여 글을 쓴다." },
                        "[9국03-02]": { standard: "[9국03-02] 복수의 자료를 활용하여 다양한 형식으로 정보를 전달하는 글을 쓴다." },
                        "[9국03-03]": { standard: "[9국03-03] 주장을 뒷받침할 수 있는 타당한 근거를 들고 적절한 표현을 사용하여 주장하는 글을 쓴다." },
                        "[9국03-05]": { standard: "[9국03-05] 자신의 삶과 경험을 바탕으로 정서를 진솔하게 표현하는 글을 쓴다." },
                        "[9국03-08]": { standard: "[9국03-08] 쓰기 과정을 점검·조정하며 글을 쓰고, 독자를 고려하여 글을 고쳐 쓴다." },
                    },
                    "(문법)": {
                        "[9국04-01]": { standard: "[9국04-01] 국어의 음운 체계와 문자 체계를 이해하고 국어생활에 활용한다." },
                        "[9국04-02]": { standard: "[9국04-02] 단어의 짜임을 분석하여 새말 형성의 원리를 이해한다." },
                        "[9국04-03]": { standard: "[9국04-03] 품사의 종류와 특성을 이해하고 국어 자료를 분석한다." },
                        "[9국04-04]": { standard: "[9국04-04] 문장의 짜임을 이해하고 표현 효과를 고려하여 문장을 구성한다." }
                    },
                    "(문학)": {
                        "[9국05-01]": { standard: "[9국05-01] 운율, 비유, 상징의 특성과 효과에 유의하며 작품을 감상하고 창작한다." },
                        "[9국05-02]": { standard: "[9국05-02] 서사 갈래에서 서술자의 역할과 효과를 파악하고 작품을 감상한다." },
                        "[9국05-05]": { standard: "[9국05-05] 작품에 반영된 사회·문화적 상황을 이해하며 작품을 감상한다." },
                    }
                },
                "사회": {
                     "(1) 개인과 사회생활": {
                        "[9사(일사)01-01]": { standard: "[9사(일사)01-01] 사회화의 의미를 일상생활의 사례를 들어 설명하고, 사회화 과정에서 형성되는 자아 정체성에 대해 성찰한다." },
                        "[9사(일사)01-02]": { standard: "[9사(일사)01-02] 사회적 지위와 역할의 의미를 설명하고, 일상생활에서 나타나는 역할 갈등 사례와 대응 방안을 탐색한다." },
                        "[9사(일사)01-03]": { standard: "[9사(일사)01-03] 사회 집단과 사회 조직의 의미와 유형을 비교하고, 개인과 사회의 관계를 탐색한다." },
                        "[9사(일사)01-04]": { standard: "[9사(일사)01-04] 사회 변동의 의미와 특징을 이해하고, 현대사회의 다양한 사회 변동 양상을 분석한다." },
                    },
                    "(2) 문화": {
                        "[9사(일사)02-01]": { standard: "[9사(일사)02-01] 일상생활에서 접하는 문화의 사례를 탐색하고, 이를 바탕으로 문화의 의미와 특징을 도출한다." },
                        "[9사(일사)02-02]": { standard: "[9사(일사)02-02] 문화를 이해하는 다양한 관점을 비교하고, 자신의 관점을 성찰한다." },
                        "[9사(일사)02-03]": { standard: "[9사(일사)02-03] 여러 집단에서 나타나는 다양한 문화 사례들을 조사하고, 문화를 이해하는 바람직한 태도에 대하여 토의한다." },
                        "[9사(일사)02-04]": { standard: "[9사(일사)02-04] 현대사회의 다양한 문화 변동 양상을 탐색하고, 전통문화의 가치를 성찰한다." },
                    },
                    "(3) 정치": {
                        "[9사(일사)03-01]": { standard: "[9사(일사)03-01] 정치의 의미와 기능을 이해하고, 정치와 일상생활의 관계를 탐색한다." },
                        "[9사(일사)03-02]": { standard: "[9사(일사)03-02] 민주주의의 이념과 기본 원리를 이해하고, 이를 실현하기 위한 제도와 시민의 역할을 탐구한다." },
                        "[9사(일사)03-03]": { standard: "[9사(일사)03-03] 현대 민주주의의 특징과 과제를 검토하고, 우리나라 민주주의의 발전을 위한 제도적 방안과 시민의 역할에 대해 토의한다." },
                    },
                    "(4) 법": {
                        "[9사(일사)04-01]": { standard: "[9사(일사)04-01] 법의 의미와 목적을 이해하고, 다양한 법의 종류와 특징을 비교한다." },
                        "[9사(일사)04-02]": { standard: "[9사(일사)04-02] 인권의 의미와 중요성을 이해하고, 인권 보장을 위한 헌법상의 기본 원리와 제도를 탐구한다." },
                        "[9사(일사)04-03]": { standard: "[9사(일사)04-03] 재판의 의미와 종류를 설명하고, 공정한 재판의 중요성에 대해 토의한다." },
                    },
                    "(5) 경제": {
                        "[9사(일사)05-01]": { standard: "[9사(일사)05-01] 경제생활에서 합리적 선택의 필요성에 대해 검토하고, 비용과 편익을 고려한 합리적 선택 방안을 탐색한다." },
                        "[9사(일사)05-02]": { standard: "[9사(일사)05-02] 시장 경제의 특징을 이해하고, 시장 가격의 결정과 변동 원리를 분석한다." },
                        "[9사(일사)05-03]": { standard: "[9사(일사)05-03] 시장경제에서 기업의 역할과 사회적 책임을 설명하고, 우리 사회에 필요한 기업가 정신에 대해 토의한다." }
                    }
                },
                "역사": {
                    "I. 문명의 형성과 고대 세계의 발전": {
                        "[9역01-01]": { standard: "[9역01-01] 인류의 출현과 선사 문화의 전개 과정을 이해하고, 문명의 발생과 고대 국가의 성립 과정을 탐구한다." },
                        "[9역01-02]": { standard: "[9역01-02] 고대 동아시아 여러 나라의 건국과 발전 과정을 비교하고, 각국의 특징을 설명한다." },
                        "[9역01-03]": { standard: "[9역01-03] 고대 서아시아와 지중해 세계의 정치적 변동 및 문화적 특징을 탐색한다." }
                    },
                    "II. 동아시아 세계의 형성과 변화": {
                        "[9역02-01]": { standard: "[9역02-01] 삼국의 성장과 상호 관계를 파악하고, 통일 과정을 이해한다." },
                        "[9역02-02]": { standard: "[9역02-02] 남북국 시대의 정치·사회적 변화를 파악한다." },
                        "[9역02-03]": { standard: "[9역02-03] 고려의 건국과 후삼국 통일 과정을 이해하고, 고려 초기의 통치 체제 정비 노력을 설명한다." },
                        "[9역02-04]": { standard: "[9역02-04] 고려 시대 대외 관계의 특징과 변천 과정을 파악하고, 무신정권의 성립과 민중의 저항을 탐구한다." },
                        "[9역02-05]": { standard: "[9역02-05] 원 간섭기 고려 사회의 변화상을 파악하고, 공민왕의 개혁 정치를 이해한다." }
                    },
                    "III. 조선의 성립과 발전": {
                        "[9역03-01]": { standard: "[9역03-01] 조선의 건국 과정을 이해하고, 조선 초기의 통치 체제와 대외 관계의 특징을 파악한다." },
                        "[9역03-02]": { standard: "[9역03-02] 16, 17세기 동아시아의 국제 전쟁과 그 영향을 분석하고, 조선 후기 사회의 변화상을 탐구한다." },
                        "[9역03-03]": { standard: "[9역03-03] 양난 이후 통치 체제의 변화와 사회·경제적 변동을 탐구한다." }
                    },
                    "IV. 근대 국가 수립 운동과 국권 수호": {
                        "[9역04-01]": { standard: "[9역04-01] 개항 이후 근대 문물의 수용과 사회 문화의 변화 모습을 조사한다." },
                        "[9역04-02]": { standard: "[9역04-02] 일제의 국권 침탈 과정을 파악하고, 이에 맞선 민족의 노력을 탐구한다." }
                    },
                    "V. 일제 강점과 민족 운동의 전개": {
                        "[9역05-01]": { standard: "[9역05-01] 일제의 식민지 지배 정책과 민족 말살 통치의 실상을 파악한다." },
                        "[9역05-02]": { standard: "[9역05-02] 3·1 운동과 대한민국 임시 정부의 수립 과정을 이해하고, 국내외에서 다양하게 전개된 민족 운동을 탐구한다." }
                    },
                    "VI. 대한민국의 발전과 현대 세계": {
                        "[9역06-01]": { standard: "[9역06-01] 대한민국 정부 수립 과정을 이해하고, 민주주의의 시련과 발전을 탐구한다." },
                        "[9역06-02]": { standard: "[9역06-02] 6·25 전쟁 이후 북한의 변화와 남북 관계의 전개 과정을 파악한다." },
                        "[9역06-03]": { standard: "[9역06-03] 경제 성장 과정과 사회 문화의 변화 모습을 파악하고, 현대 사회의 과제를 탐색한다." }
                    }
                },
                "수학": {
                    "수와 연산": {
                        "[9수01-01]": { standard: "[9수01-01] 소인수분해의 뜻을 알고, 자연수를 소인수분해할 수 있다." },
                        "[9수01-02]": { standard: "[9수01-02] 최대공약수와 최소공배수의 성질을 이해하고, 이를 활용하여 문제를 해결할 수 있다." },
                        "[9수01-03]": { standard: "[9수01-03] 정수와 유리수의 개념을 이해하고, 사칙계산의 원리를 바탕으로 그 계산을 할 수 있다." },
                        "[9수01-04]": { standard: "[9수01-04] 정수와 유리수의 대소 관계를 판단할 수 있다." },
                        "[9수01-05]": { standard: "[9수01-05] 정수와 유리수의 사칙계산의 원리를 이해하고, 그 계산을 할 수 있다." },
                        "[9수01-06]": { standard: "[9수01-06] 제곱근의 뜻과 성질을 알고, 제곱근의 대소 관계를 판단할 수 있다." },
                        "[9수01-07]": { standard: "[9수01-07] 무리수의 개념을 이해하고, 실수의 대소 관계를 판단할 수 있다." },
                        "[9수01-08]": { standard: "[9수01-08] 제곱근의 사칙계산의 원리를 이해하고, 그 계산을 할 수 있다." }
                    },
                    "문자와 식": {
                        "[9수02-01]": { standard: "[9수02-01] 다양한 상황을 문자를 사용한 식으로 나타내어 그 유용성을 인식하고, 식의 값을 구할 수 있다." },
                        "[9수02-02]": { standard: "[9수02-02] 다항식의 덧셈과 뺄셈의 원리를 이해하고, 그 계산을 할 수 있다." },
                        "[9수02-03]": { standard: "[9수02-03] 곱셈 공식과 인수분해 공식을 이해하고, 이를 활용하여 다항식의 곱셈과 인수분해를 할 수 있다." },
                        "[9수02-04]": { standard: "[9수02-04] 일차방정식을 풀 수 있고, 이를 활용하여 문제를 해결할 수 있다." },
                        "[9수02-05]": { standard: "[9수02-05] 일차부등식을 풀 수 있고, 이를 활용하여 문제를 해결할 수 있다." },
                        "[9수02-09]": { standard: "[9수02-09] 연립일차방정식을 풀 수 있고, 이를 활용하여 문제를 해결할 수 있다." },
                        "[9수02-12]": { standard: "[9수02-12] 이차방정식의 근의 공식을 유도할 수 있고, 이를 활용하여 이차방정식을 풀 수 있다." },
                    },
                    "함수": {
                        "[9수03-01]": { standard: "[9수03-01] 함수의 개념을 이해하고, 그 관계를 표, 식, 그래프로 나타낼 수 있다." },
                        "[9수03-02]": { standard: "[9수03-02] 일차함수와 그 그래프의 성질을 이해하고, 이를 활용하여 문제를 해결할 수 있다." },
                        "[9수03-03]": { standard: "[9수03-03] 일차함수와 일차방정식의 관계를 이해한다." },
                        "[9수03-04]": { standard: "[9수03-04] 이차함수의 그래프를 그릴 수 있고, 그 성질을 이해한다." }
                    },
                    "기하": {
                        "[9수04-01]": { standard: "[9수04-01] 이등변삼각형과 직각삼각형의 성질을 이해하고 설명할 수 있다." },
                        "[9수04-02]": { standard: "[9수04-02] 삼각형과 사각형의 내심, 외심, 무게중심의 성질을 이해하고 설명할 수 있다." },
                        "[9수04-03]": { standard: "[9수04-03] 닮음의 의미와 닮은 도형의 성질을 이해한다." },
                        "[9수04-04]": { standard: "[9수04-04] 삼각형의 닮음 조건을 이해하고, 이를 이용하여 두 삼각형이 닮음인지 판별할 수 있다." },
                        "[9수04-05]": { standard: "[9수04-05] 피타고라스 정리를 이해하고, 이를 활용하여 문제를 해결할 수 있다." },
                        "[9수04-06]": { standard: "[9수04-06] 삼각비의 뜻을 알고, 간단한 삼각비의 값을 구할 수 있다." },
                    },
                    "자료와 가능성": {
                        "[9수05-01]": { standard: "[9수05-01] 대푯값의 의미를 알고, 평균, 중앙값, 최빈값을 구할 수 있다." },
                        "[9수05-02]": { standard: "[9수05-02] 산포도의 의미를 알고, 분산과 표준편차를 구할 수 있다." },
                        "[9수05-03]": { standard: "[9수05-03] 상관관계를 이해하고, 산점도를 통해 두 변량 사이의 관계를 파악할 수 있다." },
                        "[9수05-04]": { standard: "[9수05-04] 경우의 수를 구할 수 있고, 확률의 기본 성질을 이해한다." }
                    }
                },
                "과학": {
                    "(1) 과학과 인류의 지속가능한 삶": {
                        "[9과01-01]": { standard: "[9과01-01] 과학적 탐구 방법을 이해하고, 일상생활의 문제에 대한 과학적 해결 방안을 제안할 수 있다." },
                        "[9과01-02]": { standard: "[9과01-02] 과학의 발전이 인류 문명에 미친 영향을 이해하고, 인공지능 등 첨단 과학기술이 가져올 미래 사회의 변화를 조사하여 발표할 수 있다." },
                    },
                    "(2) 생물의 구성과 다양성": {
                        "[9과02-01]": { standard: "[9과02-01] 세포는 생명 활동이 일어나는 기본 단위임을 이해하고, 세포의 구조와 기능의 관계를 추론할 수 있다." },
                        "[9과02-02]": { standard: "[9과02-02] 식물 세포와 동물 세포의 특징을 비교하고, 생물체를 구성하는 체제를 설명할 수 있다." },
                        "[9과02-03]": { standard: "[9과02-03] 생물다양성을 이해하고, 변이와 생물다양성의 관계를 추론할 수 있다." },
                        "[9과02-04]": { standard: "[9과02-04] 다양한 생물의 분류 방법을 이해하고, 생물 분류 체계를 설명할 수 있다." },
                        "[9과02-05]": { standard: "[9과02-05] 생물다양성 보전의 중요성을 인식하고, 보전 방안을 제안할 수 있다." }
                    },
                    "(3) 물질의 구성과 변화": {
                        "[9과03-01]": { standard: "[9과03-01] 물질을 구성하는 입자에 대한 생각을 그림이나 모형으로 표현하고, 과학사의 사례를 통해 입자 개념이 변화해 왔음을 설명할 수 있다." },
                        "[9과03-02]": { standard: "[9과03-02] 원소, 원자, 분자의 개념을 이해하고, 이를 구별하여 설명할 수 있다." },
                        "[9과03-03]": { standard: "[9과03-03] 원자, 이온의 구조를 모형으로 나타내고, 이를 통해 화학식에 담긴 정보를 해석할 수 있다." },
                        "[9과03-04]": { standard: "[9과03-04] 물질의 상태 변화와 용해 현상을 입자 모형으로 설명하고, 기체의 성질을 입자 운동과 관련지어 설명할 수 있다." },
                        "[9과03-05]": { standard: "[9과03-05] 물리 변화와 화학 변화를 물질을 구성하는 입자의 관점에서 비교하여 설명할 수 있다." },
                        "[9과03-06]": { standard: "[9과03-06] 화학 반응에서 질량 보존 법칙과 일정 성분비 법칙을 이해하고, 이를 화학 반응식과 관련지어 설명할 수 있다." }
                    },
                    "(4) 힘과 운동": {
                        "[9과04-01]": { standard: "[9과04-01] 물체에 작용하는 힘을 화살표를 이용하여 나타내고, 힘의 평형을 이루는 조건을 설명할 수 있다." },
                        "[9과04-02]": { standard: "[9과04-02] 중력, 탄성력, 마찰력, 부력을 이해하고, 각 힘의 특징을 크기와 방향으로 설명할 수 있다." },
                        "[9과04-03]": { standard: "[9과04-03] 속력, 이동 거리, 시간의 관계를 이해하고, 물체의 운동을 기록하여 속력을 구할 수 있다." },
                        "[9과04-04]": { standard: "[9과04-04] 일과 에너지의 관계를 이해하고, 운동 에너지와 위치 에너지가 서로 전환됨을 설명할 수 있다." },
                    },
                    "(5) 전기와 자기": {
                        "[9과05-01]": { standard: "[9과05-01] 마찰전기가 생기는 원리를 정전기적 현상과 관련지어 설명하고, 정전기 유도 현상을 관찰하여 설명할 수 있다." },
                        "[9과05-02]": { standard: "[9과05-02] 전기 회로에서 전류를 모형으로 설명하고, 실험을 통해 저항, 전류, 전압 사이의 관계를 이끌어낼 수 있다." },
                        "[9과05-03]": { standard: "[9과05-03] 저항의 직렬연결과 병렬연결의 특징을 비교하고, 일상생활에서 전기 에너지가 다양한 형태의 에너지로 전환됨을 소비 전력과 관련지어 설명할 수 있다." },
                        "[9과05-04]": { standard: "[9과05-04] 자기장의 개념을 이해하고, 전류가 흐르는 직선 도선과 코일 주위의 자기장을 관찰하여 설명할 수 있다." },
                        "[9과05-05]": { standard: "[9과05-05] 자기장에서 전류가 받는 힘의 방향과 크기를 설명하고, 이를 이용하는 장치의 작동 원리를 설명할 수 있다." }
                    }
                },
                "영어": {
                    "이해": {
                        "[9영01-01]": { standard: "[9영01-01] 일상생활이나 친숙한 일반적 주제에 관한 말이나 대화를 듣고 세부 정보를 파악한다." },
                        "[9영01-02]": { standard: "[9영01-02] 친숙한 주제에 관한 담화나 글에서 세부 정보를 파악한다." },
                        "[9영01-03]": { standard: "[9영01-03] 친숙한 주제에 관한 담화나 글의 중심 내용을 파악한다." },
                        "[9영01-04]": { standard: "[9영01-04] 친숙한 주제에 관한 담화나 글의 내용의 논리적 관계를 파악한다." },
                        "[9영01-05]": { standard: "[9영01-05] 친숙한 주제에 관한 담화나 글에서 인물의 기분이나 감정을 추론한다." },
                    },
                    "표현": {
                        "[9영02-01]": { standard: "[9영02-01] 자신의 주변 사람, 사물, 장소, 일 등에 관해 간단히 소개하거나 묘사한다." },
                        "[9영02-02]": { standard: "[9영02-02] 실물, 그림, 사진, 도표 등에 관해 말이나 글로 설명한다." },
                        "[9영02-03]": { standard: "[9영02-03] 경험이나 계획에 대해 말이나 글로 표현한다." },
                        "[9영02-04]": { standard: "[9영02-04] 자신의 생각이나 의견, 감정, 감상 등을 표현한다." },
                        "[9영02-05]": { standard: "[9영02-05] 안부, 감사, 축하, 사과, 요청, 제안 등과 같은 일반적인 사회적 상호작용 상황에서 의사소통한다." },
                        "[9영02-06]": { standard: "[9영02-06] 온라인 대화, 게시글, 문자 메시지 등 다양한 매체를 활용하여 소통한다." }
                    },
                }
            },
            highSchool: {
                "공통국어": {
                    "(1) 듣기·말하기": {
                        "[10국01-01]": { standard: "[10국01-01] 듣기·말하기는 의미를 공유하고 상호 작용하며 관계를 형성하고 발전시키는 활동임을 이해하고 듣기·말하기 활동을 한다." },
                        "[10국01-02]": { standard: "[10국01-02] 화자의 말을 예견하고 화자의 의도나 목적, 말하는 방식 등을 종합하여 내용을 비판적으로 듣는다." },
                        "[10국01-03]": { standard: "[10국01-03] 공식적인 말하기 상황과 비공식적인 말하기 상황의 특성을 이해하고 상황과 대상에 맞게 소통한다." },
                        "[10국01-04]": { standard: "[10국01-04] 상황과 목적에 맞는 아이디어를 창의적으로 생성하고 논리적으로 내용을 구성하여 발표한다." },
                        "[10국01-05]": { standard: "[10국01-05] 청자의 관심과 요구를 고려하며 상호 작용하고, 다양한 매체를 효과적으로 활용하여 발표한다." },
                        "[10국01-06]": { standard: "[10국01-06] 협력하여 문제를 해결하고 합리적인 의사 결정을 하기 위해 토의한다." }
                    },
                    "(2) 읽기": {
                        "[10국02-01]": { standard: "[10국02-01] 읽기는 글에 드러난 정보와 독자의 배경지식, 읽기 맥락을 활용하여 문제를 해결하고 의미를 구성하는 과정임을 이해하고 글을 읽는다." },
                        "[10국02-02]": { standard: "[10국02-02] 읽기의 사회·문화적 가치를 이해하고 책임감 있는 태도로 읽기 활동을 한다." },
                        "[10국02-03]": { standard: "[10국02-03] 자신의 읽기 과정을 성찰하고 효과적으로 조정하며 읽는다." },
                        "[10국02-04]": { standard: "[10국02-04] 글의 구조와 전개 방식에 대한 지식을 활용하여 글의 내용을 예측하고 사실적 관계를 파악하며 읽는다." },
                        "[10국02-05]": { standard: "[10국02-05] 추론하며 글의 내용을 파악하고, 글에 드러난 관점이나 내용, 글의 형식이나 표현 등을 비판하며 읽는다." }
                    },
                    "(3) 쓰기": {
                        "[10국03-01]": { standard: "[10국03-01] 쓰기는 다양한 정보를 활용하여 독자와 소통하는 사회·문화적 활동임을 이해하고 글을 쓴다." },
                        "[10국03-02]": { standard: "[10국03-02] 쓰기 맥락을 고려하여 개성 있고 타당한 내용과 표현으로 글을 쓴다." },
                        "[10국03-03]": { standard: "[10국03-03] 쓰기 과정을 점검·조정하며 글을 완성하고, 독자의 피드백을 수용하여 글을 고쳐 쓴다." }
                    },
                    "(4) 문법": {
                        "[10국04-01]": { standard: "[10국04-01] 국어가 변화하는 실체를 이해하고 국어의 발전과 국어 문화의 창조에 기여하는 태도를 지닌다." },
                        "[10국04-02]": { standard: "[10국04-02] 언어 공동체의 담화 관습을 성찰하고 바람직한 국어 생활을 한다." },
                        "[10국04-03]": { standard: "[10국04-03] 다양한 매체 언어의 특성을 이해하고 비판적으로 수용하며 생산·소통한다." }
                    },
                    "(5) 문학": {
                        "[10국05-01]": { standard: "[10국05-01] 문학이 인간과 세계를 깊이 있게 이해하게 하고 성찰하게 하는 가치 있는 활동임을 이해하고 문학 활동을 한다." },
                        "[10국05-02]": { standard: "[10국05-02] 문학의 수용과 생산 활동을 통해 타자와 소통하며 공동체의 문화 발전에 기여하는 태도를 지닌다." },
                        "[10국05-03]": { standard: "[10국05-03] 문학 갈래의 특성을 이해하고 작품을 감상·생산한다." },
                        "[10국05-04]": { standard: "[10국05-04] 작품의 내용, 형식, 표현, 맥락 등을 종합적으로 고려하여 작품을 감상하고 평가한다." }
                    }
                },
                "공통영어": {
                    "이해 (공통영어1)": {
                        "[10공영1-01-01]": { standard: "[10공영1-01-01] 일반적 주제에 관한 말이나 대화를 듣고 세부 정보를 파악한다." },
                        "[10공영1-01-02]": { standard: "[10공영1-01-02] 일반적 주제에 관한 말이나 대화의 주제, 요지를 파악한다." },
                        "[10공영1-01-03]": { standard: "[10공영1-01-03] 일반적 주제에 관한 말이나 대화의 내용의 논리적 관계를 파악한다." },
                        "[10공영1-01-04]": { standard: "[10공영1-01-04] 일반적 주제에 관한 말이나 대화에서 화자의 의도나 말의 목적을 추론한다." },
                    },
                    "표현 (공통영어1)": {
                        "[10공영1-02-01]": { standard: "[10공영1-02-01] 일반적 주제에 관해 소개하거나 묘사하는 말이나 글을 구성하여 발표한다." },
                        "[10공영1-02-02]": { standard: "[10공영1-02-02] 일반적 주제에 관해 사실적 정보나 지식을 전달하는 말이나 글을 구성하여 발표한다." },
                        "[10공영1-02-03]": { standard: "[10공영1-02-03] 일반적 주제에 관해 경험이나 계획을 표현하는 말이나 글을 구성하여 발표한다." },
                        "[10공영1-02-04]": { standard: "[10공영1-02-04] 일반적 주제에 관해 자신의 생각이나 의견, 감정, 감상 등을 표현하는 말이나 글을 구성하여 발표한다." }
                    },
                     "이해 (공통영어2)": {
                        "[10공영2-01-01]": { standard: "[10공영2-01-01] 일반적·다양한 주제에 관한 글을 읽고 세부 정보를 파악한다." },
                        "[10공영2-01-02]": { standard: "[10공영2-01-02] 일반적·다양한 주제에 관한 글을 읽고 주제, 요지를 파악한다." },
                        "[10공영2-01-03]": { standard: "[10공영2-01-03] 일반적·다양한 주제에 관한 글을 읽고 내용의 논리적 관계를 파악한다." },
                        "[10공영2-01-04]": { standard: "[10공영2-01-04] 일반적·다양한 주제에 관한 글을 읽고 필자의 의도나 글의 목적을 추론한다." },
                    },
                     "표현 (공통영어2)": {
                        "[10공영2-02-01]": { standard: "[10공영2-02-01] 일반적·다양한 주제에 관해 소개하거나 묘사하는 글을 쓴다." },
                        "[10공영2-02-02]": { standard: "[10공영2-02-02] 일반적·다양한 주제에 관해 사실적 정보나 지식을 전달하는 글을 쓴다." },
                        "[10공영2-02-03]": { standard: "[10공영2-02-03] 일반적·다양한 주제에 관해 경험이나 계획을 표현하는 글을 쓴다." },
                        "[10공영2-02-04]": { standard: "[10공영2-02-04] 일반적·다양한 주제에 관해 자신의 생각이나 의견, 감정, 감상 등을 표현하는 글을 쓴다." },
                    }
                },
                "공통수학": {
                    "(1) 다항식": {
                        "[10공수1-01-01]": { standard: "[10공수1-01-01] 다항식의 사칙연산의 원리를 설명하고, 그 계산을 할 수 있다." },
                        "[10공수1-01-02]": { standard: "[10공수1-01-02] 항등식의 성질과 나머지정리를 이해하고, 이를 활용하여 문제를 해결할 수 있다." },
                        "[10공수1-01-03]": { standard: "[10공수1-01-03] 인수분해 공식을 활용하여 다항식을 인수분해할 수 있다." }
                    },
                    "(2) 방정식과 부등식": {
                        "[10공수1-02-01]": { standard: "[10공수1-02-01] 복소수의 뜻과 사칙연산의 원리를 이해하고, 그 계산을 할 수 있다." },
                        "[10공수1-02-02]": { standard: "[10공수1-02-02] 이차방정식의 실근과 허근을 이해하고, 판별식을 이용하여 이차방정식의 근을 판별할 수 있다." },
                        "[10공수1-02-03]": { standard: "[10공수1-02-03] 이차방정식의 근과 계수의 관계를 이해하고, 이를 활용하여 문제를 해결할 수 있다." },
                        "[10공수1-02-04]": { standard: "[10공수1-02-04] 이차방정식과 이차함수를 연결하여 그 관계를 설명할 수 있다." },
                        "[10공수1-02-05]": { standard: "[10공수1-02-05] 이차함수의 그래프와 직선의 위치 관계를 이해하고, 이를 활용하여 문제를 해결할 수 있다." },
                        "[10공수1-02-06]": { standard: "[10공수1-02-06] 이차함수의 최대, 최소를 이해하고, 이를 활용하여 문제를 해결할 수 있다." },
                        "[10공수1-02-07]": { standard: "[10공수1-02-07] 여러 가지 방정식과 부등식을 풀 수 있고, 이를 활용하여 문제를 해결할 수 있다." }
                    },
                    "(3) 경우의 수": {
                        "[10공수1-03-01]": { standard: "[10공수1-03-01] 합의 법칙과 곱의 법칙을 이해하고, 적절한 전략을 사용하여 경우의 수와 관련된 문제를 해결할 수 있다." },
                        "[10공수1-03-02]": { standard: "[10공수1-03-02] 순열의 개념을 이해하고, 순열의 수를 구하는 방법을 설명할 수 있다." },
                        "[10공수1-03-03]": { standard: "[10공수1-03-03] 조합의 개념을 이해하고, 조합의 수를 구하는 방법을 설명할 수 있다." }
                    },
                    "(4) 행렬": {
                        "[10공수1-04-01]": { standard: "[10공수1-04-01] 행렬의 뜻을 알고, 실생활 상황을 행렬로 표현할 수 있다." },
                        "[10공수1-04-02]": { standard: "[10공수1-04-02] 행렬의 연산을 수행하고, 관련된 문제를 해결할 수 있다." }
                    },
                    "(5) 도형의 방정식": {
                        "[10공수2-01-01]": { standard: "[10공수2-01-01] 선분의 내분을 이해하고, 내분점의 좌표를 계산할 수 있다." },
                        "[10공수2-01-02]": { standard: "[10공수2-01-02] 직선의 방정식을 구하고, 이를 활용하여 문제를 해결할 수 있다." },
                        "[10공수2-01-03]": { standard: "[10공수2-01-03] 두 직선의 위치 관계를 설명할 수 있다." },
                        "[10공수2-01-04]": { standard: "[10공수2-01-04] 원의 방정식을 구하고, 그래프를 그릴 수 있다." },
                        "[10공수2-01-05]": { standard: "[10공수2-01-05] 원과 직선의 위치 관계를 이해하고, 관련된 문제를 해결할 수 있다." },
                        "[10공수2-01-06]": { standard: "[10공수2-01-06] 평행이동과 대칭이동의 의미를 이해하고, 이를 활용하여 점과 도형을 이동시킬 수 있다." }
                    },
                    "(6) 집합과 명제": {
                        "[10공수2-02-01]": { standard: "[10공수2-02-01] 집합의 개념을 이해하고, 집합을 표현할 수 있다." },
                        "[10공수2-02-02]": { standard: "[10공수2-02-02] 집합의 연산법칙을 이해하고, 이를 활용하여 문제를 해결할 수 있다." },
                        "[10공수2-02-03]": { standard: "[10공수2-02-03] 명제와 조건의 뜻을 알고, ‘모든’, ‘어떤’을 포함한 명제를 이해한다." },
                        "[10공수2-02-04]": { standard: "[10공수2-02-04] 명제의 역과 대우를 이해하고 설명할 수 있다." },
                        "[10공수2-02-05]": { standard: "[10공수2-02-05] 필요조건과 충분조건을 이해하고, 이를 구별할 수 있다." },
                        "[10공수2-02-06]": { standard: "[10공수2-02-06] 절대부등식의 의미를 이해하고, 간단한 절대부등식을 증명할 수 있다." }
                    },
                    "(7) 함수와 그래프": {
                        "[10공수2-03-01]": { standard: "[10공수2-03-01] 함수의 합성을 이해하고, 합성함수를 구할 수 있다." },
                        "[10공수2-03-02]": { standard: "[10공수2-03-02] 역함수의 개념을 이해하고, 역함수를 구할 수 있다." },
                        "[10공수2-03-03]": { standard: "[10공수2-03-03] 유리함수와 무리함수의 그래프를 그릴 수 있고, 그래프의 성질을 탐구할 수 있다." }
                    }
                },
                "통합사회": {
                    "(1) 통합적 관점": {
                        "[10통사1-01-01]": { standard: "[10통사1-01-01] 인간, 사회, 환경을 바라보는 시간적, 공간적, 사회적, 윤리적 관점의 의미와 특징을 사례를 통해 파악한다." },
                        "[10통사1-01-02]": { standard: "[10통사1-01-02] 인간, 사회, 환경의 탐구에 통합적 관점이 요청되는 이유를 도출하고 이를 탐구에 적용한다." }
                    },
                    "(2) 인간, 사회, 환경과 행복": {
                        "[10통사1-02-01]": { standard: "[10통사1-02-01] 시대와 지역에 따라 다르게 나타나는 행복의 기준을 사례를 통해 비교하여 평가하고, 삶의 목적으로서 행복의 의미를 성찰한다." },
                        "[10통사1-02-02]": { standard: "[10통사1-02-02] 행복한 삶을 실현하기 위한 조건으로 질 높은 정주환경의 조성, 경제적 안정, 민주주의 발전 및 도덕적 실천의 필요성에 관해 탐구한다." }
                    },
                    "(3) 자연환경과 인간": {
                        "[10통사1-03-01]": { standard: "[10통사1-03-01] 자연환경이 인간의 삶에 미치는 영향을 탐색하고, 인간 활동이 자연환경에 미치는 영향에 대한 사례를 분석한다." },
                        "[10통사1-03-02]": { standard: "[10통사1-03-02] 자연에 대한 인간의 다양한 관점을 사례를 통해 비교하고, 인간과 자연의 바람직한 관계를 제안한다." }
                    },
                    "(4) 문화와 다양성": {
                        "[10통사1-04-01]": { standard: "[10통사1-04-01] 자연환경과 인문환경의 영향을 받아 형성된 다양한 문화권의 특징과 삶의 방식을 탐구한다." },
                        "[10통사1-04-02]": { standard: "[10통사1-04-02] 다양한 문화가 공존하는 과정에서 나타나는 갈등 양상을 파악하고, 문화적 다양성을 존중하는 태도의 필요성을 탐색한다." }
                    },
                    "(5) 인권 보장과 헌법": {
                        "[10통사2-01-01]": { standard: "[10통사2-01-01] 인권의 의미와 변화 양상을 역사적 과정을 통해 설명하고, 주거, 안전, 환경, 문화 등 현대 사회의 다양한 영역으로 인권이 확장되고 있는 사례를 탐구한다." },
                        "[10통사2-01-02]": { standard: "[10통사2-01-02] 헌법에 나타난 기본권의 종류와 내용을 설명하고, 기본권 제한의 요건과 한계를 파악한다." },
                        "[10통사2-01-03]": { standard: "[10통사2-01-03] 인권 문제의 사례를 조사하고, 인권 신장을 위한 다양한 노력을 탐색한다." }
                    },
                    "(6) 시장 경제와 금융": {
                        "[10통사2-02-01]": { standard: "[10통사2-02-01] 자본주의의 역사적 전개 과정과 그 특징을 조사하고, 시장과 정부의 관계를 중심으로 다양한 삶의 방식을 비교 평가한다." },
                        "[10통사2-02-02]": { standard: "[10통사2-02-02] 시장의 의미와 시장 참여자들의 역할을 이해하고, 합리적 선택의 중요성을 탐구한다." },
                        "[10통사2-02-03]": { standard: "[10통사2-02-03] 자산 관리와 금융 생활의 중요성을 인식하고, 자신의 생애 주기를 고려하여 합리적인 금융 설계를 한다." }
                    },
                    "(7) 사회 정의와 불평등": {
                        "[10통사2-03-01]": { standard: "[10통사2-03-01] 정의의 의미와 기준을 탐색하고, 현대 사회의 다양한 영역에서 나타나는 정의의 문제에 대한 해결 방안을 모색한다." },
                        "[10통사2-03-02]": { standard: "[10통사2-03-02] 다양한 사회 불평등 현상의 사례를 조사하고, 그 원인과 해결 방안을 탐구한다." }
                    },
                    "(8) 지속가능한 미래": {
                        "[10통사2-04-01]": { standard: "[10통사2-04-01] 세계화의 다양한 양상을 파악하고, 이로 인한 문제 해결을 위한 협력 방안을 모색한다." },
                        "[10통사2-04-02]": { standard: "[10통사2-04-02] 지구촌의 평화와 지속가능한 발전을 위협하는 다양한 갈등 사례를 분석하고, 문제 해결을 위한 방안을 제안한다." }
                    }
                },
                "한국사": {
                    "(1) 전근대 한국사의 이해": {
                        "[10한사1-01-01]": { standard: "[10한사1-01-01] 고대 국가의 형성과 성장 과정을 파악한다." },
                        "[10한사1-01-02]": { standard: "[10한사1-01-02] 고대 사회의 특징을 다양한 자료를 통해 탐구한다." },
                        "[10한사1-01-03]": { standard: "[10한사1-01-03] 고려의 성립과 정치 운영의 변화를 파악한다." },
                        "[10한사1-01-04]": { standard: "[10한사1-01-04] 고려 사회의 특징을 다양한 자료를 통해 탐구한다." },
                        "[10한사1-01-05]": { standard: "[10한사1-01-05] 조선의 성립과 정치 운영의 변화를 파악한다." },
                        "[10한사1-01-06]": { standard: "[10한사1-01-06] 조선 사회의 특징을 다양한 자료를 통해 탐구한다." }
                    },
                    "(2) 전근대 한국사의 탐구": {
                        "[10한사1-02-01]": { standard: "[10한사1-02-01] 근대 이전 국제 관계와 대외 교류의 시대적 특징을 비교한다." },
                        "[10한사1-02-02]": { standard: "[10한사1-02-02] 근대 이전의 다양한 사상과 종교를 통해 당시 사람들의 정신세계를 탐구한다." },
                        "[10한사1-02-03]": { standard: "[10한사1-02-03] 근대 이전 사회 구조를 신분제를 중심으로 분석한다." },
                        "[10한사1-02-04]": { standard: "[10한사1-02-04] 근대 이전 신분제의 변화 양상을 탐구한다." },
                        "[10한사1-02-05]": { standard: "[10한사1-02-05] 근대 이전의 경제생활과 경제 정책의 특징을 파악한다." }
                    },
                    "(3) 근현대 한국사의 이해": {
                        "[10한사2-01-01]": { standard: "[10한사2-01-01] 일제의 식민 통치 정책을 제국주의 질서의 변동과 연관하여 이해한다." },
                        "[10한사2-01-02]": { standard: "[10한사2-01-02] 일제 강점기 사회·경제적 변화상을 파악한다." },
                        "[10한사2-01-03]": { standard: "[10한사2-01-03] 국내외에서 전개된 민족 운동의 흐름을 파악한다." },
                        "[10한사2-01-04]": { standard: "[10한사2-01-04] 일제 강점기 사람들의 다양한 삶의 모습을 탐구한다." }
                    },
                    "(4) 근현대 한국사의 탐구": {
                        "[10한사2-02-01]": { standard: "[10한사2-02-01] 냉전 체제가 한반도 정세에 미친 영향을 파악하고, 자유민주주의에 기초한 대한민국 정부 수립 과정을 탐색한다." },
                        "[10한사2-02-02]": { standard: "[10한사2-02-02] 6·25 전쟁의 전개 과정과 그 영향을 이해한다." },
                        "[10한사2-02-03]": { standard: "[10한사2-02-03] 4·19 혁명에서 6월 민주항쟁에 이르는 민주화 과정을 탐구한다." },
                        "[10한사2-02-04]": { standard: "[10한사2-02-04] 대한민국의 경제 성장을 파악하고, 사회·문화의 변화상을 탐구한다." },
                        "[10한사2-02-05]": { standard: "[10한사2-02-05] 평화 통일을 위한 노력과 남북 관계의 변화를 파악한다." }
                    }
                },
                 "통합과학": {
                    "(1) 물질과 규칙성": {
                        "[10통과1-01-01]": { standard: "[10통과1-01-01] 빅뱅 우주론에 따라 수소, 헬륨 등 초기 원소가 생성되는 과정을 설명할 수 있다." },
                        "[10통과1-01-02]": { standard: "[10통과1-01-02] 별의 진화와 핵융합 반응을 통해 다양한 원소가 생성되는 과정을 설명할 수 있다." },
                        "[10통과1-01-03]": { standard: "[10통과1-01-03] 태양계 형성과 지구의 형성 과정을 설명할 수 있다." },
                        "[10통과1-02-01]": { standard: "[10통과1-02-01] 천체에서 방출되는 빛의 스펙트럼을 분석하여 우주 초기에 형성된 원소와 천체의 구성 물질을 추론할 수 있다." },
                        "[10통과1-02-02]": { standard: "[10통과1-02-02] 원소의 주기성을 이해하고, 주기율표를 활용하여 원소의 성질을 예측할 수 있다." },
                        "[10통과1-02-03]": { standard: "[10통과1-02-03] 세상을 구성하는 원소들의 성질이 주기성을 나타내는 현상을 통해 자연의 규칙성을 도출하고, 지구와 생명체를 구성하는 주요 원소들이 결합을 형성하는 이유를 해석할 수 있다." }
                    },
                    "(2) 시스템과 상호작용": {
                        "[10통과1-03-01]": { standard: "[10통과1-03-01] 지구시스템은 태양계라는 시스템의 구성요소임을 알고, 지구시스템을 구성하는 권역들 간의 물질 순환과 에너지 흐름의 결과로 나타나는 현상을 논증할 수 있다." },
                        "[10통과1-03-02]": { standard: "[10통과1-03-02] 판의 운동이 지권의 변화를 주도함을 이해하고, 판의 운동이 지구시스템의 다른 권역에 미치는 영향을 설명할 수 있다." },
                        "[10통과1-03-03]": { standard: "[10통과1-03-03] 중력의 작용으로 인한 지구 표면과 지구 주위의 다양한 운동을 설명할 수 있다." },
                        "[10통과1-03-04]": { standard: "[10통과1-03-04] 생명체를 구성하는 기본 단위인 세포의 구조적 특징을 이해하고, 생명시스템의 유지에 필요한 물질과 정보의 흐름을 설명할 수 있다." }
                    },
                    "(3) 변화와 다양성": {
                        "[10통과2-01-01]": { standard: "[10통과2-01-01] 지질 시대를 통해 지구 환경이 계속 변화해 왔으며 이러한 환경 변화가 생물 다양성에 미치는 영향을 추론할 수 있다." },
                        "[10통과2-01-02]": { standard: "[10통과2-01-02] 생명체의 유전 정보가 DNA에 저장되고 단백질로 발현되는 과정을 이해하고, 유전 정보의 흐름과 생명 현상의 연관성을 설명할 수 있다." },
                        "[10통과2-01-03]": { standard: "[10통과2-01-03] 자연과 인류의 역사에 큰 변화를 가져온 광합성, 화석 연료 사용, 철의 제련 등에서 공통점을 찾아 산화와 환원을 이해하고, 생활 주변의 다양한 변화를 산화와 환원의 특징과 규칙성으로 분석할 수 있다." },
                        "[10통과2-01-04]": { standard: "[10통과2-01-04] 산과 염기의 공통적인 성질을 이해하고, 중화 반응을 통해 생활 속의 문제를 해결하는 사례를 탐구할 수 있다." }
                    },
                    "(4) 환경과 에너지": {
                        "[10통과2-02-01]": { standard: "[10통과2-02-01] 생태계 구성요소를 이해하고 생물과 환경 사이의 상호 관계를 설명할 수 있다." },
                        "[10통과2-02-02]": { standard: "[10통과2-02-02] 생태계 평형의 원리를 이해하고, 생태계가 유지되기 위한 조건을 탐구할 수 있다." },
                        "[10통과2-02-03]": { standard: "[10통과2-02-03] 지구온난화의 원인과 과정을 이해하고, 기후 변화가 인류에 미치는 영향에 대한 해결 방안을 토론할 수 있다." },
                        "[10통과2-02-04]": { standard: "[10통과2-02-04] 다양한 발전 방식의 장단점을 비교하고, 전력 수송 과정에서 나타나는 문제점에 대한 해결 방안을 토의할 수 있다." },
                        "[10통과2-02-05]": { standard: "[10통과2-02-05] 핵발전과 신재생 에너지의 원리를 이해하고, 미래 사회의 에너지 문제 해결에 기여하는 태도를 기른다." },
                        "[10통과2-02-06]": { standard: "[10통과2-02-06] 에너지 효율의 의미와 중요성을 이해하고, 지속가능한 발전과 지구 환경 문제 해결에 신재생 에너지 기술을 활용하는 방안을 탐색할 수 있다." }
                    }
                }
            }
        };
        const modelGuides = {
            inquiry: { 
                title: "질문하는 수업 (Inquiry-Based)", 
                description: "학생이 스스로 질문을 만들고 답을 찾아가는 과정을 통해 학생 주도성을 극대화하는 수업 모델입니다.", 
                steps: [
                    { title: "1단계: 탐구 시작하기 (Sparking Inquiry)", content: "교사는 수업의 도입부에서 학생들의 호기심을 자극할 만한 이미지, 짧은 영상, 혹은 정답이 없는 개방형 질문을 '통합학습창'에 제시합니다. 예를 들어, 사회 시간에는 불평등을 상징하는 사진 한 장을, 과학 시간에는 설명하기 어려운 자연 현상 영상을 보여줄 수 있습니다." }, 
                    { title: "2단계: 질문 생성하기 (Generating Questions)", content: "학생들은 제시된 자료를 보고 떠오르는 질문들을 '수업 질문' 기능을 통해 실시간으로 교사에게 제출합니다. 교사는 수집된 질문들을 '통합학습창' 화면에 공유하며 비슷한 유형끼리 묶어주고 탐구의 방향을 함께 모색합니다." }, 
                    { title: "3단계: 탐구 계획하기 (Planning the Investigation)", content: "'우리반 게시판'이나 모둠별 채널을 활용하여 탐구 계획, 역할 분담, 자료 수집 방법 등을 논의하고 기록합니다." }, 
                    { title: "4단계: 자료 탐색 및 발견 (Research & Discovery)", content: "학생들은 하이러닝의 'AI 콘텐츠 추천' 기능이나 통합 검색을 활용하여 자신들의 질문에 대한 답을 찾아 나섭니다. 이때 'AI 튜터'나 '챗봇' 기능은 학생들이 검색어를 정교화하거나 초기 탐색 방향을 잡는 데 도움을 주는 '연구 조교' 역할을 수행할 수 있습니다." }, 
                    { title: "5단계: 종합 및 공유 (Synthesizing & Sharing)", content: "탐구를 마친 모둠은 발견한 내용과 결론을 발표 자료 형태로 만들어 '통합학습창'에서 전체 공유합니다. 발표가 끝난 최종 결과물은 '클래스보드'에 게시하여 다른 학생들이 언제든 다시 볼 수 있게 하고, 교사는 이를 바탕으로 피드백을 제공합니다." }
                ] 
            },
            process: { 
                title: "과정중심 수업 (Process-Focused)", 
                description: "결과물뿐만 아니라, 학습이 일어나는 전 과정을 평가하고 피드백함으로써 학생의 성장을 지원합니다.", 
                steps: [
                    { title: "1-2단계: 목표 공유 및 초기 진단", content: "교사는 단원의 시작에 학습 목표와 평가 기준(루브릭)을 '통합학습창'에 공지하고, 'AI 학습 진단' 기능으로 학생들의 출발점을 확인하여 이후 성장 정도를 파악하는 기준점으로 삼습니다." }, 
                    { title: "3단계: 과정 기록하기", content: "학생들은 글쓰기, 프로젝트 등을 진행하며 그 과정과 결과물을 주기적으로 '클래스보드'에 포트폴리오처럼 업로드합니다. 초고, 수정본, 연구 노트, 성찰 일지 등 모든 과정이 차곡차곡 쌓입니다." }, 
                    { title: "4단계: 과정 중 피드백 제공", content: "교사는 '클래스보드'에 제출된 학생들의 과정물을 수시로 모니터링합니다. 도움이 필요한 학생을 즉시 파악하고, 댓글이나 개별 메시지를 통해 시의적절하고 구체적인 피드백을 제공합니다. 이는 '학습을 위한 평가'를 실천하는 핵심 활동입니다." }, 
                    { title: "5-6단계: 자기/동료/종합 평가", content: "학생들은 클래스보드에 기록된 자신의 학습 여정을 돌아보며 자기평가를 수행하고, 동료의 과정 기록물을 검토하며 건설적인 피드백을 제공합니다. 교사는 최종 결과물이 아닌 과정 전체를 종합하여 평가합니다."}
                ] 
            },
            concept: { 
                title: "개념기반 수업 (Concept-Based)", 
                description: "단편적인 사실의 암기를 넘어, 교과의 핵심 개념과 일반화를 탐구하여 지식의 전이력을 높이는 데 중점을 둡니다.", 
                steps: [
                    { title: "1단계: 사전 지식 확인", content: "수업은 '정의란 무엇인가?'와 같은 핵심 개념 질문으로 시작합니다. 교사는 'AI 학습 진단'이나 '설문' 기능을 사용하여 학생들이 이 개념에 대해 어떤 아이디어를 가지고 있는지 파악합니다." }, 
                    { title: "2단계: 다양한 맥락 속 개념 탐색", content: "교사는 '통합학습창'을 통해 핵심 개념을 다양한 각도에서 조명하는 자료 묶음(뉴스, 영상, 텍스트 등)을 제공하여 풍부한 탐색 기회를 줍니다. 'AI 콘텐츠 추천' 기능은 관련 심화 자료를 추가로 제안해 줄 수 있습니다." }, 
                    { title: "3단계: 협력적 개념 지도 그리기", content: "모둠별로 '통합학습창'의 화이트보드 기능을 활용하여 핵심 개념의 속성은 무엇인지, 하위 개념들은 어떻게 연결되는지를 시각화하는 개념 지도(Concept Map)를 함께 만듭니다." }, 
                    { title: "4-5단계: 일반화 및 적용", content: "탐구 내용을 바탕으로 자신만의 원리를 도출하여 '우리반 게시판'에 공유하고 토론합니다. 이후 새로운 사례에 원리를 적용하여 분석하는 과제를 통해 개념 이해의 깊이를 평가합니다."}
                ] 
            },
            design: { 
                title: "디자인 씽킹 수업 (Design Thinking)", 
                description: "사용자에 대한 공감을 바탕으로 창의적인 해결책을 만들어가는 협력적 문제 해결 과정입니다.", 
                steps: [
                    { title: "1단계: 공감하기 (Empathize)", content: "사용자 인터뷰나 관찰 후, '통합학습창'의 화이트보드에 모여 협력적으로 '공감 지도(Empathy Map)'를 작성합니다. 사용자의 말, 생각, 행동, 느낌을 공유하며 문제의 맥락을 깊이 있게 이해합니다." }, 
                    { title: "2단계: 문제 정의하기 (Define)", content: "공감 지도를 바탕으로, 각 모둠은 '우리반 게시판'이나 공유 문서를 활용하여 해결해야 할 핵심 문제를 명확한 문장으로 정의하여 문제의 본질에 집중합니다." }, 
                    { title: "3단계: 아이디어 내기 (Ideate)", content: "'통합학습창'의 화이트보드는 아이디어 발상을 위한 공간이 됩니다. 학생들은 '크레이지 8s' 기법처럼 8분 동안 8개의 아이디어를 빠르게 스케치합니다. 이후 '설문' 기능을 활용하여 가장 실현 가능성 높거나 혁신적인 아이디어를 함께 선정합니다." }, 
                    { title: "4-5단계: 시제품 제작 및 시험 (Prototype & Test)", content: "아이디어를 간단한 시제품으로 만들어 사진이나 영상으로 촬영하고, '클래스보드'에 제출하여 공유합니다. 학생들은 다른 모둠의 결과물을 보고 정해진 양식에 따라 피드백을 제공하며, 이를 바탕으로 시제품을 개선해 나갑니다." }
                ] 
            }
        };

        const formatAiResponseToHtml = (text) => {
            return text
                .replace(/^### (.*$)/gm, '<h4>$1</h4>')
                .replace(/^---$/gm, '<hr>')
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/((?:(?:^|\n)\* .*(?:\n|$))+)/gm, (match) => {
                    const items = match.trim().split('\n')
                        .map(line => `<li>${line.substring(line.indexOf('*') + 1).trim()}</li>`)
                        .join('');
                    return `<ul>${items}</ul>`;
                })
                .split('\n')
                .map(line => {
                    const trimmedLine = line.trim();
                    if (!trimmedLine) return ''; 
                    if (trimmedLine.startsWith('<h4') || trimmedLine.startsWith('<ul') || trimmedLine.startsWith('<hr') || trimmedLine.startsWith('<li>')) {
                        return line;
                    }
                    return `<p>${trimmedLine}</p>`;
                })
                .join('')
                .replace(/<p><ul>/g, '<ul>')
                .replace(/<\/ul><\/p>/g, '</ul>');
        };

        const setupAll = () => {
            const main = document.querySelector('main');
            
            main.innerHTML = `
                <section id="why" class="content-section active"></section>
                <section id="guides" class="content-section"></section>
                <section id="lesson-planner" class="content-section"></section>
                <section id="features" class="content-section"></section>
                <section id="qna" class="content-section"></section>
                <section id="future" class="content-section"></section>
            `;
            
            setupStaticContent();
            setupWhySection();
            setupGuidesSection();
            setupLessonPlannerSection();
            setupQnaSection();

            const navBtns = document.querySelectorAll('.nav-btn');
            const contentSections = document.querySelectorAll('.content-section');
            navBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    navBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    contentSections.forEach(section => {
                        section.classList.toggle('active', section.id === btn.dataset.target);
                    });
                });
            });
        };
        
        const setupStaticContent = () => {
            const featuresSection = document.getElementById('features');
            if (featuresSection) {
                featuresSection.innerHTML = `
                <h2 class="text-3xl font-bold text-center mb-4">주요 기능 둘러보기</h2>
                <p class="max-w-3xl mx-auto text-center text-gray-600 mb-10 leading-relaxed">
                    하이러닝은 교사를 '학습 경험 설계자'로 만들어주는 강력한 도구 모음입니다. 각 기능이 어떤 교육적 가치를 가지는지 확인하고, 아래 영상으로 기능을 마스터해보세요.
                </p>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition"><h3 class="font-bold text-xl mb-2 text-purple-700">AI 기반 맞춤 학습</h3><p class="text-gray-600 leading-relaxed">AI가 학생의 지식 수준을 진단하고, 학습 결손을 보충할 콘텐츠를 추천하며, 적절한 난이도의 문제를 출제하여 개인별 최적의 학습 경로를 제공합니다.</p></div>
                    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition"><h3 class="font-bold text-xl mb-2 text-purple-700">수업 설계 및 관리</h3><p class="text-gray-600 leading-relaxed">교사는 자신의 수업 자료를 등록·공유하고, 동료 교사의 우수한 수업 설계안을 복제·활용하여 업무 부담을 줄이고 수업의 질을 높일 수 있습니다.</p></div>
                    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition"><h3 class="font-bold text-xl mb-2 text-purple-700">상호작용 수업 도구</h3><p class="text-gray-600 leading-relaxed">통합학습창 내 화이트보드, 설문, 퀴즈, 발표 등의 기능으로 역동적이고 협력적인 수업을 만들 수 있습니다.</p></div>
                    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition"><h3 class="font-bold text-xl mb-2 text-purple-700">데이터 기반 피드백</h3><p class="text-gray-600 leading-relaxed">AI 리포트와 대시보드는 학생의 학습 과정 전체를 가시화합니다. 데이터에 기반한 구체적인 피드백으로 학생의 성장을 효과적으로 지원할 수 있습니다.</p></div>
                    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition"><h3 class="font-bold text-xl mb-2 text-purple-700">과정중심평가 지원</h3><p class="text-gray-600 leading-relaxed">클래스보드와 게시판에 축적된 학생들의 활동 결과물은 과정중심평가를 위한 구체적이고 풍부한 근거 자료가 됩니다.</p></div>
                    <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-xl transition"><h3 class="font-bold text-xl mb-2 text-purple-700">High-Tech, High-Touch</h3><p class="text-gray-600 leading-relaxed">기술(High-Tech)이 반복 업무를 처리해 줌으로써, 교사는 학생과의 인간적 상호작용(High-Touch)에 더 많은 시간을 할애할 수 있습니다.</p></div>
                </div>

                <div class="mt-20">
                    <h3 class="text-3xl font-bold text-center mb-4">영상으로 배우는 하이러닝 마스터</h3>
                    <p class="max-w-3xl mx-auto text-center text-gray-600 mb-10 leading-relaxed">경기도교육청에서 제공하는 공식 유튜브 튜토리얼 영상으로 하이러닝의 핵심 기능을 빠르게 익혀보세요.</p>
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <a href="https://www.youtube.com/watch?v=C8sNaNQwgEM" target="_blank" class="block bg-white rounded-lg shadow-lg hover:shadow-2xl transition-shadow duration-300 overflow-hidden">
                            <img src="https://img.youtube.com/vi/C8sNaNQwgEM/hqdefault.jpg" alt="영상 썸네일" class="w-full h-48 object-cover">
                            <div class="p-6">
                                <h4 class="font-bold text-lg text-purple-800">1편: 수업개설 및 학생초대</h4>
                                <p class="text-gray-600 mt-2">새로운 수업을 만들고 학생들을 초대하는 가장 첫 단계를 배워보세요.</p>
                            </div>
                        </a>
                         <a href="https://www.youtube.com/watch?v=ynpH8Nvrg4A" target="_blank" class="block bg-white rounded-lg shadow-lg hover:shadow-2xl transition-shadow duration-300 overflow-hidden">
                            <img src="https://img.youtube.com/vi/ynpH8Nvrg4A/hqdefault.jpg" alt="영상 썸네일" class="w-full h-48 object-cover">
                            <div class="p-6">
                                <h4 class="font-bold text-lg text-purple-800">2편: 수업자료 등록 및 제작</h4>
                                <p class="text-gray-600 mt-2">PDF, 영상 등 다양한 자료를 등록하고 하이러닝 콘텐츠로 만드는 법을 알아봅니다.</p>
                            </div>
                        </a>
                         <a href="https://www.youtube.com/watch?v=gfEsZbmdsYc" target="_blank" class="block bg-white rounded-lg shadow-lg hover:shadow-2xl transition-shadow duration-300 overflow-hidden">
                            <img src="https://img.youtube.com/vi/gfEsZbmdsYc/hqdefault.jpg" alt="영상 썸네일" class="w-full h-48 object-cover">
                            <div class="p-6">
                                <h4 class="font-bold text-lg text-purple-800">3편: 수업실행 및 클래스보드</h4>
                                <p class="text-gray-600 mt-2">통합학습창을 활용한 실시간 수업과 클래스보드로 결과물을 확인하는 법을 배웁니다.</p>
                            </div>
                        </a>
                         <a href="https://www.youtube.com/watch?v=E3NTzqAKD5A" target="_blank" class="block bg-white rounded-lg shadow-lg hover:shadow-2xl transition-shadow duration-300 overflow-hidden">
                            <img src="https://img.youtube.com/vi/E3NTzqAKD5A/hqdefault.jpg" alt="영상 썸네일" class="w-full h-48 object-cover">
                            <div class="p-6">
                                <h4 class="font-bold text-lg text-purple-800">4편: 모둠활동 및 토의토론</h4>
                                <p class="text-gray-600 mt-2">학생 주도성을 키우는 핵심, 모둠 활동과 토의/토론 기능을 마스터합니다.</p>
                            </div>
                        </a>
                         <a href="https://www.youtube.com/watch?v=B4ufK_vJ-e0" target="_blank" class="block bg-white rounded-lg shadow-lg hover:shadow-2xl transition-shadow duration-300 overflow-hidden">
                            <img src="https://img.youtube.com/vi/B4ufK_vJ-e0/hqdefault.jpg" alt="영상 썸네일" class="w-full h-48 object-cover">
                            <div class="p-6">
                                <h4 class="font-bold text-lg text-purple-800">5편: AI 맞춤형 학습</h4>
                                <p class="text-gray-600 mt-2">AI 진단평가, 맞춤형 학습지 등 하이러닝의 AI 기능을 깊이 있게 알아봅니다.</p>
                            </div>
                        </a>
                    </div>
                </div>
                `;
            }
            const futureSection = document.getElementById('future');
            if (futureSection) futureSection.innerHTML = `<h2 class="text-3xl font-bold text-center mb-4">전략적 실행과 미래 전망</h2><p class="max-w-3xl mx-auto text-center text-gray-600 mb-12 leading-relaxed">하이러닝의 성공적인 도입은 기술적 숙달을 넘어, 교육 철학에 기반한 전략적 접근과 발생 가능한 문제들에 대한 깊이 있는 고찰이 필요합니다.</p><div class="grid md:grid-cols-1 lg:grid-cols-3 gap-8"><div class="bg-white p-6 rounded-lg border-l-4 border-red-400"><h3 class="font-bold text-xl mb-3">⚠️ 도전 과제 탐색</h3><ul class="list-disc list-inside space-y-2 text-gray-700 leading-relaxed"><li><strong>데이터 프라이버시와 보안:</strong> 학생의 민감 정보 보호</li><li><strong>알고리즘 편향:</strong> 정량적 능력 편중 및 비정형적 가치 간과 위험</li><li><strong>디지털 격차:</strong> 기기 및 가정 환경에 따른 교육 불평등 심화 가능성</li><li><strong>교사 역량 및 업무 부담:</strong> 새로운 교수법 연수 및 전문적 학습공동체 필요</li></ul></div><div class="bg-white p-6 rounded-lg border-l-4 border-green-400"><h3 class="font-bold text-xl mb-3">🚀 성공적 도입을 위한 제언</h3><ul class="list-disc list-inside space-y-2 text-gray-700 leading-relaxed"><li><strong>비전 중심의 리더십:</strong> 기술 도입이 아닌 '학생 주도성 신장' 등 교육적 비전 제시</li><li><strong>협력적 문화 구축:</strong> 수업 사례를 나누는 전문적 학습공동체 활성화</li><li><strong>점진적 접근:</strong> 진입 장벽이 낮은 기능부터 시작하여 작은 성공 경험 축적</li></ul></div><div class="bg-white p-6 rounded-lg border-l-4 border-blue-400"><h3 class="font-bold text-xl mb-3">🛰️ 다가오는 통합 생태계</h3><ul class="list-disc list-inside space-y-2 text-gray-700 leading-relaxed"><li><strong>국가 AIDT와 연동:</strong> 시도교육청 플랫폼과 국가 플랫폼이 통합된 학습 생태계 구축</li><li><strong>교사의 역할 진화:</strong> 콘텐츠 전달자에서 학습 설계자, 데이터 기반 멘토로 변화</li><li><strong>학생의 공동 설계자 부상:</strong> 폭넓은 콘텐츠 속에서 학습 경로 선택의 주도권 확대</li></ul></div></div><p class="mt-12 text-center text-gray-600 bg-gray-50 p-6 rounded-lg leading-relaxed">결국 하이러닝과 AI 디지털교과서는 학교를 위한 '교육용 운영체제'를 구축하는 것입니다. 이 거대한 변화의 서막에서, 하이러닝의 전략적 활용은 미래를 준비하는 가장 중요한 첫걸음이 될 것입니다.</p>`;
        };
        const setupWhySection = () => {
            const whySection = document.getElementById('why');
            if (!whySection) return;

            // --- 수정된 부분 시작 ---
            whySection.innerHTML = `<div class="space-y-16 md:space-y-24">
                <div>
                    <h2 class="text-3xl font-bold text-center mb-4">교육의 패러다임 전환: 2015 vs 2022</h2>
                    <p class="max-w-3xl mx-auto text-center text-gray-600 mb-10 leading-relaxed">
                        2015 개정 교육과정이 '역량'의 씨앗을 심었다면, 2022 개정 교육과정은 학생이 학습의 주인이 되는 '학생 주도성'의 꽃을 피우려 합니다. 아래 버튼을 눌러 두 교육과정의 핵심 지향점 변화를 비교해 보세요.
                    </p>
                    <div class="chart-container"><canvas id="curriculumRadarChart"></canvas></div>
                    <div class="flex justify-center items-center gap-4 mt-6">
                        <button id="show2015Chart" class="bg-orange-400 text-white font-semibold py-2 px-5 rounded-full hover:bg-orange-500 transition">2015 교육과정</button>
                        <button id="show2022Chart" class="bg-purple-500 text-white font-semibold py-2 px-5 rounded-full hover:bg-purple-600 transition">2022 교육과정</button>
                        <button id="resetChart" class="bg-gray-500 text-white font-semibold py-2 px-5 rounded-full hover:bg-gray-600 transition">초기화</button>
                    </div>
                </div>
                <div>
                    <h2 class="text-3xl font-bold text-center mb-4">핵심역량과 하이러닝의 연결</h2>
                    <p class="max-w-3xl mx-auto text-center text-gray-600 mb-10 leading-relaxed">
                        2022 개정 교육과정이 제시하는 6대 핵심역량은 어떻게 길러질 수 있을까요? 아래 역량을 클릭하여 관련된 하이러닝의 핵심 기능들을 탐색해 보세요. 기술이 교육 철학을 어떻게 구현하는지 알 수 있습니다.
                    </p>
                    <div class="flex flex-wrap justify-center gap-2 md:gap-4 mb-8">
                        <button class="competency-btn transition-all duration-300 ease-in-out text-sm md:text-base bg-white shadow-md hover:bg-purple-600 hover:text-white font-semibold py-2 px-4 border border-gray-200 rounded-full" data-competency="self-management">자기관리 역량</button>
                        <button class="competency-btn transition-all duration-300 ease-in-out text-sm md:text-base bg-white shadow-md hover:bg-purple-600 hover:text-white font-semibold py-2 px-4 border border-gray-200 rounded-full" data-competency="knowledge-info">지식정보처리 역량</button>
                        <button class="competency-btn transition-all duration-300 ease-in-out text-sm md:text-base bg-white shadow-md hover:bg-purple-600 hover:text-white font-semibold py-2 px-4 border border-gray-200 rounded-full" data-competency="creative-thinking">창의적 사고 역량</button>
                        <button class="competency-btn transition-all duration-300 ease-in-out text-sm md:text-base bg-white shadow-md hover:bg-purple-600 hover:text-white font-semibold py-2 px-4 border border-gray-200 rounded-full" data-competency="aesthetic-emotional">심미적 감성 역량</button>
                        <button class="competency-btn transition-all duration-300 ease-in-out text-sm md:text-base bg-white shadow-md hover:bg-purple-600 hover:text-white font-semibold py-2 px-4 border border-gray-200 rounded-full" data-competency="collaborative-communication">협력적 소통 역량</button>
                        <button class="competency-btn transition-all duration-300 ease-in-out text-sm md:text-base bg-white shadow-md hover:bg-purple-600 hover:text-white font-semibold py-2 px-4 border border-gray-200 rounded-full" data-competency="community">공동체 역량</button>
                    </div>
                    <div id="competency-description" class="p-6 bg-purple-50 border-l-4 border-purple-500 text-purple-800 rounded-r-lg min-h-[100px] flex items-center justify-center transition-all duration-300 ease-in-out"><p class="text-center">궁금한 핵심역량을 클릭해 주세요.</p></div>
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-10">
                        <div class="feature-card bg-white p-4 rounded-lg shadow-md" data-feature="self-management knowledge-info"><h3 class="font-bold">AI 학습 진단/리포트</h3><p class="text-sm text-gray-600">학습 현황 분석으로<br>목표 설정을 돕습니다.</p></div>
                        <div class="feature-card bg-white p-4 rounded-lg shadow-md" data-feature="knowledge-info"><h3 class="font-bold">AI 콘텐츠 추천/챗봇</h3><p class="text-sm text-gray-600">정보 탐색, 평가, 종합<br>능력을 지원합니다.</p></div>
                        <div class="feature-card bg-white p-4 rounded-lg shadow-md" data-feature="creative-thinking collaborative-communication"><h3 class="font-bold">통합학습창(화이트보드)</h3><p class="text-sm text-gray-600">아이디어 브레인스토밍 및<br>문제 해결을 돕습니다.</p></div>
                        <div class="feature-card bg-white p-4 rounded-lg shadow-md" data-feature="self-management"><h3 class="font-bold">오답 노트</h3><p class="text-sm text-gray-600">실수 성찰과 메타인지<br>능력을 기릅니다.</p></div>
                        <div class="feature-card bg-white p-4 rounded-lg shadow-md" data-feature="creative-thinking"><h3 class="font-bold">AI 논술 진단</h3><p class="text-sm text-gray-600">논리적 주장과 창의적<br>표현력을 향상시킵니다.</p></div>
                        <div class="feature-card bg-white p-4 rounded-lg shadow-md" data-feature="aesthetic-emotional community collaborative-communication"><h3 class="font-bold">우리반 게시판/클래스보드</h3><p class="text-sm text-gray-600">결과물 공유와<br>상호작용으로 소통합니다.</p></div>
                        <div class="feature-card bg-white p-4 rounded-lg shadow-md" data-feature="collaborative-communication"><h3 class="font-bold">실시간 설문/퀴즈</h3><p class="text-sm text-gray-600">모든 학생의 참여를 유도하고<br>의견을 수렴합니다.</p></div>
                        <div class="feature-card bg-white p-4 rounded-lg shadow-md" data-feature="community collaborative-communication"><h3 class="font-bold">모둠 활동</h3><p class="text-sm text-gray-600">의견 조율과 건설적<br>피드백을 경험합니다.</p></div>
                    </div>
                </div>
            </div>`;

            const curriculumRadarChartEl = document.getElementById('curriculumRadarChart');
            if (!curriculumRadarChartEl) return;
            const radarCtx = curriculumRadarChartEl.getContext('2d');
            
            const radarData2015 = { label: '2015 개정 교육과정', data: [4, 3, 3, 2, 3, 2], backgroundColor: 'rgba(251, 146, 60, 0.2)', borderColor: 'rgb(251, 146, 60)', borderWidth: 2, pointBackgroundColor: 'rgb(251, 146, 60)' };
            const radarData2022 = { label: '2022 개정 교육과정', data: [5, 5, 5, 4, 5, 4], backgroundColor: 'rgba(139, 92, 246, 0.2)', borderColor: 'rgb(139, 92, 246)', borderWidth: 2, pointBackgroundColor: 'rgb(139, 92, 246)' };
            const radarLabels = ['추구하는 인간상', '핵심역량 초점', '핵심 교육 용어', '디지털 교육', '평가 패러다임', '학교 자율성'];
            const radarTooltips = [['창의융합형 인재', '자기주도적 사람'],['6대 핵심역량 도입', '협력적 소통 역량 강조'],['학생 참여', '학생 주도성'],['SW 교육 필수화', '디지털/AI 소양 함양'],['과정중심평가 도입', '디지털 기반 피드백 명시'],['자유학기제 도입', '학교자율시간 확대']];

            const radarChart = new Chart(radarCtx, {
                type: 'radar',
                data: {
                    labels: radarLabels,
                    datasets: [] // Initially empty
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(0, 0, 0, 0.1)' },
                            grid: { color: 'rgba(0, 0, 0, 0.1)' },
                            pointLabels: { font: { size: 12, family: 'Pretendard' }, color: '#374151' },
                            ticks: { stepSize: 1, backdropColor: 'rgba(255, 255, 255, 0.7)', color: '#6b7280' },
                            suggestedMin: 0,
                            suggestedMax: 5
                        }
                    },
                    plugins: {
                        legend: { labels: { font: { size: 14, family: 'Pretendard' } } },
                        tooltip: {
                            callbacks: {
                                label: c => `${c.dataset.label}: ${radarTooltips[c.dataIndex][c.datasetIndex === 0 && c.chart.data.datasets.length === 2 && c.chart.data.datasets.some(d => d.label === '2015 개정 교육과정') ? 0 : (c.dataset.label.includes('2015') ? 0 : 1)]}`
                            }
                        }
                    }
                }
            });

            const show2015Btn = document.getElementById('show2015Chart');
            const show2022Btn = document.getElementById('show2022Chart');
            const resetBtn = document.getElementById('resetChart');

            show2015Btn.addEventListener('click', () => {
                const exists = radarChart.data.datasets.some(ds => ds.label === radarData2015.label);
                if (!exists) {
                    radarChart.data.datasets.push(radarData2015);
                    radarChart.update();
                    show2015Btn.disabled = true;
                }
            });

            show2022Btn.addEventListener('click', () => {
                const exists = radarChart.data.datasets.some(ds => ds.label === radarData2022.label);
                if (!exists) {
                    radarChart.data.datasets.push(radarData2022);
                    radarChart.update();
                    show2022Btn.disabled = true;
                }
            });
            
            resetBtn.addEventListener('click', () => {
                radarChart.data.datasets = [];
                radarChart.update();
                show2015Btn.disabled = false;
                show2022Btn.disabled = false;
            });
            // --- 수정된 부분 끝 ---

            const competencyBtns = document.querySelectorAll('.competency-btn');
            const featureCards = document.querySelectorAll('.feature-card');
            const competencyDesc = document.getElementById('competency-description');
            const descriptions = { 'self-management': "AI 리포트, 오답 노트 등으로 자신의 학습 현황을 점검하고, 학습 목표를 설정하며 자기주도적 학습 능력을 기릅니다.", 'knowledge-info': "AI 콘텐츠 추천, 챗봇 등을 활용하여 다양한 정보를 비판적으로 탐색, 평가, 종합하는 능력을 훈련합니다.", 'creative-thinking': "통합학습창의 화이트보드, 발표 기능 등을 활용하여 아이디어를 발상하고 구체화하며 창의성을 발현합니다.", 'aesthetic-emotional': "다양한 매체로 자신의 생각과 감정을 표현하고, 클래스보드나 게시판에서 타인의 감성에 공감하는 능력을 키웁니다.", 'collaborative-communication': "통합학습창의 모둠 활동, 실시간 설문/퀴즈, 클래스보드 등을 통해 의견을 조율하고 공동의 목표를 달성하는 협력적 문제 해결을 경험합니다.", 'community': "게시판 토론, 클래스보드 동료 피드백을 통해 학급 공동체의 학습에 기여하며 민주 시민 의식을 함양합니다."};
            competencyBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const targetCompetency = btn.dataset.competency;
                    if (btn.classList.contains('active')) {
                        btn.classList.remove('active');
                        featureCards.forEach(card => card.classList.remove('highlight'));
                        competencyDesc.innerHTML = `<p class="text-center">궁금한 핵심역량을 클릭해 주세요.</p>`;
                    } else {
                        competencyBtns.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        competencyDesc.innerHTML = `<p>${descriptions[targetCompetency]}</p>`;
                        featureCards.forEach(card => card.classList.toggle('highlight', card.dataset.feature.includes(targetCompetency)));
                    }
                });
            });
        };
        const setupGuidesSection = () => {
            const guidesSection = document.getElementById('guides');
            if(!guidesSection) return;
            guidesSection.innerHTML = `<h2 class="text-3xl font-bold text-center mb-4">수업 모델별 하이러닝 활용 가이드</h2><p class="max-w-3xl mx-auto text-center text-gray-600 mb-10 leading-relaxed">학생중심 수업을 하이러닝으로 어떻게 구현할 수 있을까요? 네 가지 대표적인 수업 모형에 대한 단계별 활용 전략을 확인하고, 실제 수업 주제를 입력하여 AI 기반 맞춤 설계안을 받아보세요.</p><div class="lg:flex lg:space-x-8"><div id="model-nav" class="lg:w-1/4 mb-8 lg:mb-0"><ul class="space-y-2"><li><button class="w-full text-left p-4 rounded-lg font-semibold bg-white shadow transition model-nav-btn active" data-model="inquiry">❓ 질문하는 수업</button></li><li><button class="w-full text-left p-4 rounded-lg font-semibold bg-white shadow transition model-nav-btn" data-model="process">📈 과정중심 수업</button></li><li><button class="w-full text-left p-4 rounded-lg font-semibold bg-white shadow transition model-nav-btn" data-model="concept">🌍 개념기반 수업</button></li><li><button class="w-full text-left p-4 rounded-lg font-semibold bg-white shadow transition model-nav-btn" data-model="design">💡 디자인 씽킹 수업</button></li></ul></div><div id="model-content" class="lg:w-3/4"></div></div>`;

            const modelNav = document.getElementById('model-nav');
            const modelNavBtns = modelNav.querySelectorAll('.model-nav-btn');
            const modelContent = document.getElementById('model-content');
            
            const renderModelContent = (modelKey) => {
                const model = modelGuides[modelKey];
                let stepsHtml = model.steps.map(step => `
                    <div class="step-item border-t border-gray-200 py-5 first:border-t-0 first:pt-0 last:pb-0">
                        <h4 class="font-bold text-lg mb-2 text-gray-800">${step.title}</h4>
                        <p class="text-gray-700 leading-relaxed">${step.content}</p>
                    </div>`).join('');
                
                modelContent.innerHTML = `
                    <div class="model-details active" data-model="${modelKey}">
                        <div class="bg-white p-8 rounded-xl shadow-lg">
                            <h3 class="text-2xl font-bold mb-3">${model.title}</h3>
                            <p class="mb-8 text-gray-600 leading-relaxed">${model.description}</p>
                            <div class="steps-container">
                                ${stepsHtml}
                            </div>
                            <div class="mt-10 pt-6 border-t-2 border-purple-200">
                                <h4 class="text-xl font-bold text-purple-700 mb-4">✨ AI 맞춤형 수업 설계</h4>
                                <p class="text-gray-600 mb-4 leading-relaxed">아래에 수업 주제나 활동 내용을 입력하고 버튼을 누르면, AI가 위 모델에 맞춰 상세한 수업 설계안을 제안해 드립니다.</p>
                                <textarea id="ai-topic-input-${modelKey}" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500" rows="3" placeholder="예: 기후 변화의 원인과 해결 방안 토론하기"></textarea>
                                <button class="ai-design-btn mt-4 w-full bg-purple-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-purple-700 transition duration-300" data-model-key="${modelKey}">AI 맞춤 설계 받기</button>
                                <div id="ai-design-output-${modelKey}" class="mt-6"></div>
                            </div>
                        </div>
                    </div>`;
                
                addAiDesignListener(modelKey);
            };
            
            const addAiDesignListener = (modelKey) => {
                const button = document.querySelector(`.ai-design-btn[data-model-key="${modelKey}"]`);
                if(button) {
                    button.addEventListener('click', async () => {
                        const input = document.getElementById(`ai-topic-input-${modelKey}`);
                        const outputDiv = document.getElementById(`ai-design-output-${modelKey}`);
                        const topic = input.value;
                        const model = modelGuides[modelKey];

                        if (!topic.trim()) {
                            outputDiv.innerHTML = `<div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-lg" role="alert"><p>수업 주제나 활동 내용을 입력해주세요.</p></div>`;
                            return;
                        }

                        outputDiv.innerHTML = `<div class="flex flex-col items-center justify-center p-8"><div class="loader"></div><p class="mt-4 text-gray-600">Gemini AI가 수업을 설계 중입니다...</p></div>`;
                        
                        const prompt = `당신은 대한민국 중/고등학교 교사들을 위한 수업 설계 전문가입니다. '${model.title}' 모델의 각 단계에 맞춰, 다음 활동 주제를 중심으로 구체적인 하이러닝 활용 수업 설계안을 작성해주세요. 각 단계별로 학생들이 무엇을 해야 하는지, 그리고 교사가 하이러닝의 어떤 기능(예: 통합학습창, 클래스보드, AI 튜터, 설문, 과제 등)을 어떻게 활용할 수 있는지 상세히 설명해야 합니다. 특히, 실시간 수업 활동은 '통합학습창' (예: 화이트보드, 발표 기능)에서, 과제 제출이나 결과물 공유는 '클래스보드'에서 이루어지는 점을 명확히 구분하여 설명해주세요.
                        
                        **활동 주제:** ${topic}
                        
                        **설계 형식:**
                        ### 1단계: ${model.steps[0].title.split('(')[0].trim()}
                        * **활동 내용:** * **하이러닝 활용:** ### 2단계: ${model.steps[1].title.split('(')[0].trim()}
                        * **활동 내용:** * **하이러닝 활용:** (모든 단계에 대해 동일한 형식으로 계속 작성)`;

                        try {
                            const chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                            const payload = { contents: chatHistory };
                            const apiKey = "";
                            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                            const response = await fetch(apiUrl, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify(payload)
                            });
                            const result = await response.json();

                            if (result.candidates && result.candidates.length > 0) {
                                const text = result.candidates[0].content.parts[0].text;
                                const formattedHtml = formatAiResponseToHtml(text);
                                outputDiv.innerHTML = `<div class="ai-response-prose mt-6 p-6 border-t-2 border-purple-200">${formattedHtml}</div>`;
                            } else {
                                throw new Error("응답 형식이 올바르지 않습니다.");
                            }
                        } catch (error) {
                            console.error("Error calling Gemini API:", error);
                            outputDiv.innerHTML = `<div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mt-4 rounded-lg" role="alert"><p class="font-bold">오류 발생</p><p>AI 설계를 생성하는 중에 문제가 발생했습니다. 잠시 후 다시 시도해 주세요.</p></div>`;
                        }
                    });
                }
            };

            modelNavBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    modelNavBtns.forEach(b => b.classList.remove('active', 'bg-purple-100'));
                    btn.classList.add('active', 'bg-purple-100');
                    renderModelContent(btn.dataset.model);
                });
            });

            renderModelContent('inquiry');
            modelNav.querySelector('.model-nav-btn[data-model="inquiry"]').classList.add('active', 'bg-purple-100');
        };

        const setupLessonPlannerSection = () => {
            const plannerSection = document.getElementById('lesson-planner');
            if(!plannerSection) return;
            plannerSection.innerHTML = `<h2 class="text-3xl font-bold text-center mb-4">성취기준별 맞춤 수업 설계</h2><p class="max-w-3xl mx-auto text-center text-gray-600 mb-10 leading-relaxed">수업하실 학교급, 교과, 단원, 성취기준을 선택하시면, 성취기준에 최적화된 수업 아이디어를 얻으실 수 있습니다.</p><div class="max-w-5xl mx-auto bg-white p-6 md:p-8 rounded-xl shadow-lg"><div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"><div><label for="school-level-select" class="block mb-2 text-sm font-medium text-gray-900">1. 학교급 선택</label><select id="school-level-select" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full p-2.5"><option selected>학교급을 선택하세요</option><option value="middleSchool">중학교</option><option value="highSchool">고등학교</option></select></div><div><label for="subject-select" class="block mb-2 text-sm font-medium text-gray-900">2. 교과 선택</label><select id="subject-select" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full p-2.5" disabled><option selected>교과를 선택하세요</option></select></div><div><label for="unit-select" class="block mb-2 text-sm font-medium text-gray-900">3. 영역(단원) 선택</label><select id="unit-select" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full p-2.5" disabled><option selected>영역(단원)을 선택하세요</option></select></div><div><label for="standard-select" class="block mb-2 text-sm font-medium text-gray-900">4. 성취기준 선택</label><select id="standard-select" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full p-2.5" disabled><option selected>성취기준을 선택하세요</option></select></div></div><div class="text-center mt-8"><button id="generate-ai-guide-btn" class="w-full md:w-auto bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition duration-300 disabled:bg-gray-400" disabled>✨ AI 수업 활동 아이디어 생성 ✨</button></div></div><div id="gemini-guide-output" class="mt-8 max-w-5xl mx-auto"></div>`;

            const schoolLevelSelect = document.getElementById('school-level-select');
            const subjectSelect = document.getElementById('subject-select');
            const unitSelect = document.getElementById('unit-select');
            const standardSelect = document.getElementById('standard-select');
            const generateAIBtn = document.getElementById('generate-ai-guide-btn');
            const geminiGuideOutput = document.getElementById('gemini-guide-output');

            const resetSelect = (select, defaultText) => {
                select.innerHTML = `<option>${defaultText}</option>`;
                select.disabled = true;
            };

            const resetOutputs = () => {
                geminiGuideOutput.innerHTML = '';
            }

            schoolLevelSelect.addEventListener('change', () => {
                const schoolLevel = schoolLevelSelect.value;
                resetSelect(subjectSelect, '교과를 선택하세요');
                resetSelect(unitSelect, '영역(단원)을 선택하세요');
                resetSelect(standardSelect, '성취기준을 선택하세요');
                generateAIBtn.disabled = true;
                resetOutputs();
                if (lessonDesigns[schoolLevel]) {
                    subjectSelect.disabled = false;
                    Object.keys(lessonDesigns[schoolLevel]).forEach(subject => {
                        subjectSelect.innerHTML += `<option value="${subject}">${subject}</option>`;
                    });
                }
            });

            subjectSelect.addEventListener('change', () => {
                const schoolLevel = schoolLevelSelect.value;
                const subject = subjectSelect.value;
                resetSelect(unitSelect, '영역(단원)을 선택하세요');
                resetSelect(standardSelect, '성취기준을 선택하세요');
                generateAIBtn.disabled = true;
                resetOutputs();
                if (lessonDesigns[schoolLevel]?.[subject]) {
                    unitSelect.disabled = false;
                    Object.keys(lessonDesigns[schoolLevel][subject]).forEach(unit => {
                        unitSelect.innerHTML += `<option value="${unit}">${unit}</option>`;
                    });
                }
            });

            unitSelect.addEventListener('change', () => {
                const schoolLevel = schoolLevelSelect.value;
                const subject = subjectSelect.value;
                const unit = unitSelect.value;
                resetSelect(standardSelect, '성취기준을 선택하세요');
                generateAIBtn.disabled = true;
                resetOutputs();
                if (lessonDesigns[schoolLevel]?.[subject]?.[unit]) {
                    standardSelect.disabled = false;
                    Object.keys(lessonDesigns[schoolLevel][subject][unit]).forEach(standardKey => {
                        const standardData = lessonDesigns[schoolLevel][subject][unit][standardKey];
                        const standardText = standardData.standard;
                        standardSelect.innerHTML += `<option value="${standardKey}">${standardKey} ${standardText.substring(standardText.indexOf(']')+1, 50)}...</option>`;
                    });
                }
            });
            
            standardSelect.addEventListener('change', () => {
                const isStandardSelected = standardSelect.value.startsWith('[');
                generateAIBtn.disabled = !isStandardSelected;
                resetOutputs();
            });

            generateAIBtn.addEventListener('click', async () => {
                const schoolLevel = schoolLevelSelect.value;
                const subject = subjectSelect.value;
                const unit = unitSelect.value;
                const standardKey = standardSelect.value;
                const standardData = lessonDesigns[schoolLevel]?.[subject]?.[unit]?.[standardKey];

                if (!standardData) return;
                
                geminiGuideOutput.innerHTML = `
                    <div class="bg-white p-6 rounded-xl shadow-lg mt-8 border border-gray-200">
                        <h3 class="text-xl font-bold mb-4 text-indigo-700">✨ AI 추천 수업 활동 아이디어</h3>
                        <div class="flex flex-col items-center justify-center p-8">
                            <div class="loader"></div>
                            <p class="mt-4 text-gray-600">Gemini AI가 창의적인 아이디어를 생성 중입니다. 잠시만 기다려 주세요...</p>
                        </div>
                    </div>`;

                const prompt = `당신은 대한민국 교육과정 전문가이자 창의적인 수업 설계자입니다. 다음 성취기준에 기반하여, 학생들이 흥미를 느끼고 깊이 있게 탐구할 수 있는 '수업 활동 아이디어' 3가지를 제안해 주세요. 각 아이디어는 경기도교육청의 '하이러닝' 플랫폼 기능을 활용하여 학생들이 주도적으로 참여할 수 있어야 합니다. 실시간 상호작용은 '통합학습창'에서, 최종 결과물 제출 및 공유는 '클래스보드'를 활용하는 등 각 기능의 역할을 명확히 구분하여 설명해주세요. (주요 기능: 통합학습창, 화이트보드, 모둠 발표, 클래스보드, AI 튜터, 설문, 과제, 우리반 게시판 등)

각 아이디어에 대해 다음 형식으로 답변해주세요:

### [활동 제목]
* **활동 설명:** (활동에 대한 구체적인 설명)
* **활용 가능한 하이러닝 기능:** (구체적인 기능 명시)

---
**성취기준:** ${standardData.standard}`;

                try {
                    const chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                    const payload = { contents: chatHistory };
                    const apiKey = "";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                    
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        const formattedHtml = formatAiResponseToHtml(text);

                        geminiGuideOutput.innerHTML = `
                            <div class="bg-white p-6 rounded-xl shadow-lg mt-8 border border-gray-200 animate-fade-in">
                                <h3 class="text-xl font-bold mb-4 text-indigo-700">✨ AI 추천 수업 활동 아이디어</h3>
                                <div class="ai-response-prose">
                                   ${formattedHtml}
                                </div>
                            </div>`;
                    } else {
                         throw new Error("응답 형식이 올바르지 않습니다.");
                    }
                } catch (error) {
                    console.error("Error calling Gemini API:", error);
                    geminiGuideOutput.innerHTML = `
                        <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mt-8 rounded-lg" role="alert">
                            <p class="font-bold">오류 발생</p>
                            <p>AI 아이디어를 생성하는 중에 문제가 발생했습니다. 잠시 후 다시 시도해 주세요.</p>
                        </div>`;
                }
            });
        };
        const setupQnaSection = () => {
            const qnaSection = document.getElementById('qna');
            if(!qnaSection) return;
            qnaSection.innerHTML = `
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold text-center mb-4">AI 하이러닝 Q&A</h2>
                <p class="max-w-2xl mx-auto text-center text-gray-600 mb-10 leading-relaxed">
                    하이러닝에 대해 궁금한 점이 있으신가요? 아래 카테고리를 선택하고 질문을 입력하시면, AI가 공식 가이드 내용을 바탕으로 답변해 드립니다.
                </p>

                <div class="bg-white p-8 rounded-xl shadow-lg">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <label for="qna-category" class="block mb-2 text-sm font-medium text-gray-900">1. 질문 카테고리 선택</label>
                            <select id="qna-category" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full p-2.5">
                                <option selected value="teacher">교사용 기능 문의</option>
                                <option value="student">학생/학부모용 기능 문의</option>
                                <option value="admin">학교 관리자 기능 문의</option>
                                <option value="design">수업 설계 및 활용법</option>
                                <option value="etc">기타 문의</option>
                            </select>
                        </div>
                        <div class="md:col-span-2">
                            <label for="qna-input" class="block mb-2 text-sm font-medium text-gray-900">2. 질문 입력</label>
                            <textarea id="qna-input" rows="4" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500" placeholder="예시) 클래스보드는 어떻게 만드나요?"></textarea>
                        </div>
                    </div>
                    <div class="text-center">
                         <button id="qna-submit-btn" class="w-full bg-purple-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-purple-700 transition duration-300">AI에게 질문하기</button>
                    </div>

                    <div id="qna-output" class="mt-8"></div>
                </div>
            </div>
            `;

            const qnaSubmitBtn = document.getElementById('qna-submit-btn');
            qnaSubmitBtn.addEventListener('click', async () => {
                const category = document.getElementById('qna-category').value;
                const question = document.getElementById('qna-input').value;
                const outputDiv = document.getElementById('qna-output');

                if(!question.trim()) {
                    outputDiv.innerHTML = `<div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-lg" role="alert"><p>질문 내용을 입력해주세요.</p></div>`;
                    return;
                }

                outputDiv.innerHTML = `<div class="flex flex-col items-center justify-center p-8"><div class="loader"></div><p class="mt-4 text-gray-600">AI가 답변을 생성 중입니다...</p></div>`;

                const prompt = `당신은 경기도교육청의 '하이러닝' 플랫폼 전문가입니다. 업로드된 공식 가이드(교사용, 학생용, 학부모용, 관리자용) 내용을 기반으로, 다음 질문에 대해 가장 정확하고 친절하게 답변해주세요. 답변은 Markdown 형식을 사용하여 제목, 강조, 목록 등을 포함해 체계적이고 가독성 높게 구성해야 합니다. 예를 들어, 제목은 '### 제목'으로, 강조는 '**강조**'로, 목록은 '* 항목' 과 같이 작성해주세요.

                **질문 카테고리:** ${category}
                **사용자 질문:** ${question}
                
                **답변 형식:**
                - 질문의 핵심을 파악하여 명확하고 간결하게 답변합니다.
                - 필요한 경우, 관련된 하이러닝의 특정 기능 명칭을 정확히 사용하여 단계별로 설명합니다.
                - 가이드 문서에 관련 내용이 있다면, 어떤 가이드의 어느 부분을 참고하면 좋을지 안내해줄 수 있습니다.`;
                
                try {
                    const chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                    const payload = { contents: chatHistory };
                    const apiKey = "";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                    
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const result = await response.json();
                    
                     if (result.candidates && result.candidates.length > 0) {
                        let text = result.candidates[0].content.parts[0].text;
                        const formattedHtml = formatAiResponseToHtml(text);
                        outputDiv.innerHTML = `<div class="mt-6 p-6 border-t-2 border-purple-200 ai-response-prose">${formattedHtml}</div>`;
                    } else {
                         throw new Error("응답 형식이 올바르지 않습니다.");
                    }

                } catch (error) {
                    console.error("Error calling Gemini API:", error);
                    outputDiv.innerHTML = `<div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mt-4 rounded-lg" role="alert"><p class="font-bold">오류 발생</p><p>AI 답변을 생성하는 중에 문제가 발생했습니다. 잠시 후 다시 시도해 주세요.</p></div>`;
                }
            });
        };
        
        setupAll();

    });
    </script>
</body>
</html>
